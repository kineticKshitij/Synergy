<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SynergyOS - System Diagrams</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            color: #333;
            display: flex;
        }

        .sidebar {
            width: 280px;
            background: white;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            overflow-y: auto;
            box-shadow: 4px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: transform 0.3s ease;
        }

        .sidebar.hidden {
            transform: translateX(-100%);
        }

        .sidebar-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .sidebar-header h3 {
            margin: 0;
            font-size: 1.2em;
        }

        .sidebar-toggle {
            position: fixed;
            left: 290px;
            top: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            transition: all 0.3s ease;
        }

        .sidebar-toggle:hover {
            transform: scale(1.1);
        }

        .sidebar-toggle.closed {
            left: 20px;
        }

        .sidebar-nav {
            padding: 10px;
        }

        .nav-item {
            width: 100%;
            text-align: left;
            padding: 12px 15px;
            margin: 5px 0;
            border: none;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.95em;
            color: #333;
        }

        .nav-item:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateX(5px);
        }

        .container {
            flex: 1;
            margin-left: 280px;
            padding: 40px;
            transition: margin-left 0.3s ease;
        }

        .container.expanded {
            margin-left: 0;
        }

        .content-wrapper {
            max-width: 1400px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
        }



        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-info {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .diagram-section {
            margin-bottom: 80px;
            scroll-margin-top: 120px;
        }

        .section-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .section-title {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .section-description {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .diagram-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .entity-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 10px;
            display: inline-block;
            min-width: 200px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .entity-title {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 10px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 5px;
        }

        .entity-fields {
            font-size: 0.9em;
            line-height: 1.8;
        }

        .relationship-line {
            text-align: center;
            font-size: 1.5em;
            color: #667eea;
            margin: 10px 0;
        }

        .flow-step {
            background: white;
            border: 3px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 15px auto;
            max-width: 300px;
            text-align: center;
            position: relative;
        }

        .flow-step::after {
            content: 'â†“';
            position: absolute;
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2em;
            color: #667eea;
        }

        .flow-step:last-child::after {
            content: '';
        }

        .architecture-layer {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border-left: 5px solid #667eea;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .layer-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .layer-components {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .component {
            background: white;
            padding: 10px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            font-size: 0.9em;
        }

        .diagram-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .connection-arrow {
            text-align: center;
            font-size: 2em;
            color: #667eea;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 250px;
            }

            .sidebar-toggle {
                left: 260px;
            }

            .sidebar-toggle.closed {
                left: 20px;
            }

            .container {
                margin-left: 0;
                padding: 20px;
            }

            .content-wrapper {
                padding: 20px;
            }

            h1 {
                font-size: 1.8em;
            }

            .diagram-grid {
                grid-template-columns: 1fr;
            }
        }

        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            opacity: 0;
            pointer-events: none;
        }

        .scroll-top.visible {
            opacity: 1;
            pointer-events: all;
        }

        .scroll-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ SynergyOS System Diagrams</h1>
            <p class="subtitle">Complete Architecture & Design Documentation</p>
            <p style="color: #28a745; font-weight: 600; margin-top: 10px;">
                âœ… Updated: November 15, 2025 | Comprehensive Visual Documentation
            </p>
        </header>

        <div class="nav-controls">
            <div class="nav-header" onclick="toggleNav()">
                <h3>ğŸ“‘ Table of Contents</h3>
                <span class="nav-toggle" id="navToggle">â–¼</span>
            </div>
            <div class="nav-content" id="navContent">
                <div class="nav-grid">
                    <button class="btn btn-primary" onclick="scrollToDiagram('erDiagram')">ğŸ—‚ï¸ ER Diagram</button>
                    <button class="btn btn-success" onclick="scrollToDiagram('userFlow')">ğŸ‘¤ User Flow</button>
                    <button class="btn btn-warning" onclick="scrollToDiagram('highLevel')">ğŸ›ï¸ High-Level</button>
                    <button class="btn btn-info" onclick="scrollToDiagram('lowLevel')">âš™ï¸ Low-Level</button>
                    <button class="btn btn-primary" onclick="scrollToDiagram('deploymentArch')">ğŸ³ Deployment</button>
                    <button class="btn btn-success" onclick="scrollToDiagram('securityArch')">ğŸ”’ Security</button>
                    <button class="btn btn-warning" onclick="scrollToDiagram('dataFlow')">ğŸ”„ Data Flow</button>
                    <button class="btn btn-info" onclick="scrollToDiagram('taskLifecycle')">âœ… Task Lifecycle</button>
                    <button class="btn btn-primary" onclick="scrollToDiagram('useCaseDiagram')">ğŸ¯ Use Cases</button>
                    <button class="btn btn-success" onclick="scrollToDiagram('apiArchitecture')">ğŸŒ API</button>
                    <button class="btn btn-warning" onclick="scrollToDiagram('dbSchema')">ğŸ’¾ DB Schema</button>
                    <button class="btn btn-info" onclick="scrollToDiagram('cacheStrategy')">ğŸ”„ Caching</button>
                    <button class="btn btn-primary" onclick="scrollToDiagram('performance')">ğŸ“ˆ Performance</button>
                    <button class="btn btn-success" onclick="scrollToDiagram('comparison')">ğŸ“Š Comparison</button>
                    <button class="btn btn-warning" onclick="scrollToDiagram('techStack')">ğŸ”§ Tech Stack</button>
                    <button class="btn btn-info" onclick="scrollToDiagram('scalability')">âš¡ Scalability</button>
                    <button class="btn btn-primary" onclick="scrollToDiagram('testing')">ğŸ”¬ Testing</button>
                    <button class="btn btn-success" onclick="scrollToDiagram('projectLifecycle')">ğŸ“… Project Flow</button>
                    <button class="btn btn-warning" onclick="scrollToDiagram('notifications')">ğŸ”” Notifications</button>
                    <button class="btn btn-info" onclick="scrollToDiagram('fileUpload')">ğŸ“ File Upload</button>
                </div>
            </div>
        </div>

        <!-- ER Diagram Section -->
        <div class="diagram-section" id="erDiagram">
            <div class="section-header">
                <div class="section-title">ğŸ—‚ï¸ Entity-Relationship Diagram</div>
                <div class="section-description">Database Schema - Complete data model with relationships</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Database Schema - SynergyOS</h3>
                
                <div style="background: #f8f9fa; border-radius: 12px; padding: 30px;">
                    <!-- User Entity -->
                    <div style="text-align: center; margin-bottom: 40px;">
                        <div class="entity-box" style="max-width: 300px; margin: 0 auto;">
                            <div class="entity-title">ğŸ‘¤ User</div>
                            <div class="entity-fields">
                                ğŸ”‘ id (PK)<br>
                                ğŸ“§ email (unique)<br>
                                ğŸ”’ password<br>
                                ğŸ‘¥ role (manager/member/admin)<br>
                                âœ… is_active<br>
                                ğŸ“… date_joined
                            </div>
                        </div>
                        <div class="relationship-line">â¬‡ï¸ 1:1</div>
                        <div class="entity-box" style="max-width: 300px; margin: 0 auto; background: linear-gradient(135deg, #10b981, #059669);">
                            <div class="entity-title">ğŸ“‹ UserProfile</div>
                            <div class="entity-fields">
                                ğŸ”‘ id (PK)<br>
                                ğŸ”— user_id (FK)<br>
                                ğŸ¢ department<br>
                                ğŸ“± phone<br>
                                ğŸ–¼ï¸ avatar
                            </div>
                        </div>
                        <div class="relationship-line">â¬‡ï¸ 1:Many</div>
                        <div class="entity-box" style="max-width: 300px; margin: 0 auto; background: linear-gradient(135deg, #f59e0b, #d97706);">
                            <div class="entity-title">ğŸ“ Project</div>
                            <div class="entity-fields">
                                ğŸ”‘ id (PK)<br>
                                ğŸ”— manager_id (FK â†’ User)<br>
                                ğŸ“ name<br>
                                ğŸ“„ description<br>
                                ğŸ“Š status<br>
                                ğŸ“… start/end_date<br>
                                ğŸ‘¥ members (M2M)
                            </div>
                        </div>
                    </div>

                    <div class="relationship-line" style="font-size: 2em;">â¬‡ï¸ Project has many:</div>

                    <!-- Related Entities Grid -->
                    <div class="diagram-grid" style="margin-top: 30px;">
                        <div class="entity-box" style="background: linear-gradient(135deg, #3b82f6, #2563eb);">
                            <div class="entity-title">âœ… Task</div>
                            <div class="entity-fields">
                                ğŸ”‘ id (PK)<br>
                                ğŸ”— project_id (FK)<br>
                                ğŸ”— assigned_to_id (FK)<br>
                                ğŸ“ title<br>
                                ğŸ“„ description<br>
                                ğŸ“Š status<br>
                                ğŸ¯ priority<br>
                                ğŸ“… due_date
                            </div>
                        </div>

                        <div class="entity-box" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                            <div class="entity-title">ğŸ’¬ ProjectMessage</div>
                            <div class="entity-fields">
                                ğŸ”‘ id (PK)<br>
                                ğŸ”— project_id (FK)<br>
                                ğŸ”— sender_id (FK)<br>
                                ğŸ’¬ message<br>
                                ğŸ“… timestamp<br>
                                âœ… is_read
                            </div>
                        </div>

                        <div class="entity-box" style="background: linear-gradient(135deg, #14b8a6, #0d9488);">
                            <div class="entity-title">ğŸ“Š ProjectActivity</div>
                            <div class="entity-fields">
                                ğŸ”‘ id (PK)<br>
                                ğŸ”— project_id (FK)<br>
                                ğŸ”— user_id (FK)<br>
                                ğŸ¬ action<br>
                                ğŸ“ description<br>
                                ğŸ“… timestamp
                            </div>
                        </div>
                    </div>

                    <div class="relationship-line" style="font-size: 1.5em; margin-top: 30px;">â¬‡ï¸ Task has many:</div>

                    <div style="text-align: center; margin-top: 20px;">
                        <div class="entity-box" style="max-width: 300px; margin: 0 auto; background: linear-gradient(135deg, #ec4899, #db2777);">
                            <div class="entity-title">ğŸ“ TaskAttachment</div>
                            <div class="entity-fields">
                                ğŸ”‘ id (PK)<br>
                                ğŸ”— task_id (FK â†’ Task)<br>
                                ğŸ“ file<br>
                                ğŸ“ filename<br>
                                ğŸ“… uploaded_at<br>
                                ğŸ”— uploaded_by_id (FK)
                            </div>
                        </div>
                    </div>

                    <!-- Additional Entity -->
                    <div style="text-align: center; margin-top: 40px;">
                        <div class="entity-box" style="max-width: 300px; margin: 0 auto; background: linear-gradient(135deg, #ef4444, #dc2626);">
                            <div class="entity-title">ğŸ”’ SecurityEvent</div>
                            <div class="entity-fields">
                                ğŸ”‘ id (PK)<br>
                                ğŸ”— user_id (FK)<br>
                                âš ï¸ event_type<br>
                                ğŸ“ description<br>
                                ğŸŒ ip_address<br>
                                ğŸ“… timestamp
                            </div>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 30px; padding: 20px; background: white; border-radius: 10px; border-left: 5px solid #667eea;">
                    <h4 style="color: #667eea;">ğŸ”— Relationships Summary:</h4>
                    <ul style="line-height: 2;">
                        <li><strong>User â†” UserProfile:</strong> One-to-One</li>
                        <li><strong>User â†” Project:</strong> One-to-Many (manager) + Many-to-Many (members)</li>
                        <li><strong>Project â†” Task:</strong> One-to-Many</li>
                        <li><strong>Task â†” TaskAttachment:</strong> One-to-Many</li>
                        <li><strong>Project â†” ProjectMessage:</strong> One-to-Many</li>
                        <li><strong>Project â†” ProjectActivity:</strong> One-to-Many</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- User Flow Section -->
        <div class="diagram-section" id="userFlow">
            <div class="section-header">
                <div class="section-title">ğŸ‘¤ User Flow Diagram</div>
                <div class="section-description">User Journey - Authentication to task completion</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">User Journey - SynergyOS</h3>
                
                <div class="flow-step" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                    <h4>ğŸš€ Start</h4>
                    <p>User accesses application</p>
                </div>

                <div class="flow-step">
                    <h4>ğŸ” Authentication</h4>
                    <p>Login / Register</p>
                    <small>Email + Password</small>
                </div>

                <div class="flow-step" style="border-color: #f59e0b; background: #fffbeb;">
                    <h4 style="color: #f59e0b;">âš™ï¸ Role Check</h4>
                    <p style="color: #92400e;">Determine user role</p>
                    <small style="color: #92400e;">Manager | Team Member | Admin</small>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 50px 0;">
                    <div style="text-align: center;">
                        <div class="flow-step" style="border-color: #10b981; background: #d1fae5;">
                            <h4 style="color: #10b981;">ğŸ‘” Manager Path</h4>
                            <p style="color: #065f46;">Redirect to Dashboard</p>
                            <small style="color: #065f46;">/dashboard</small>
                        </div>
                        
                        <div style="margin-top: 50px;">
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #d1fae5; border: 2px solid #10b981;">
                                ğŸ“Š View Statistics
                            </div>
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #d1fae5; border: 2px solid #10b981;">
                                â• Create Project
                            </div>
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #d1fae5; border: 2px solid #10b981;">
                                ğŸ‘¥ Assign Members
                            </div>
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #d1fae5; border: 2px solid #10b981;">
                                âœ… Create Tasks
                            </div>
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #d1fae5; border: 2px solid #10b981;">
                                ğŸ“ˆ Monitor Progress
                            </div>
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #d1fae5; border: 2px solid #10b981;">
                                ğŸ’¬ Message Team
                            </div>
                        </div>
                    </div>

                    <div style="text-align: center;">
                        <div class="flow-step" style="border-color: #3b82f6; background: #dbeafe;">
                            <h4 style="color: #3b82f6;">ğŸ‘¤ Member Path</h4>
                            <p style="color: #1e3a8a;">Redirect to Team Dashboard</p>
                            <small style="color: #1e3a8a;">/team-dashboard</small>
                        </div>
                        
                        <div style="margin-top: 50px;">
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #dbeafe; border: 2px solid #3b82f6;">
                                ğŸ“‹ View Assigned Tasks
                            </div>
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #dbeafe; border: 2px solid #3b82f6;">
                                âœï¸ Update Task Status
                            </div>
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #dbeafe; border: 2px solid #3b82f6;">
                                ğŸ“ Upload Proof
                            </div>
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #dbeafe; border: 2px solid #3b82f6;">
                                ğŸ’¬ View Messages
                            </div>
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #dbeafe; border: 2px solid #3b82f6;">
                                ğŸ”” Notifications
                            </div>
                            <div class="component" style="margin: 10px auto; max-width: 250px; background: #dbeafe; border: 2px solid #3b82f6;">
                                ğŸ‘¤ Edit Profile
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flow-step" style="background: linear-gradient(135deg, #f59e0b, #d97706); color: white; margin-top: 50px;">
                    <h4>ğŸ”’ Security Features</h4>
                    <p>JWT Authentication | Role-Based Access | Session Management</p>
                </div>

                <div class="flow-step" style="background: linear-gradient(135deg, #ef4444, #dc2626); color: white;">
                    <h4>ğŸšª Logout</h4>
                    <p>Clear session & return to login</p>
                </div>

                <div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                    <h4 style="color: #667eea;">ğŸ¯ Key Decision Points:</h4>
                    <ul style="line-height: 2;">
                        <li><strong>Authentication Check:</strong> Valid JWT token required for all routes</li>
                        <li><strong>Role-Based Routing:</strong> Automatic redirect based on user.role field</li>
                        <li><strong>Access Control:</strong> Dashboard checks role, redirects unauthorized users</li>
                        <li><strong>Protected Routes:</strong> ProtectedRoute component validates authentication</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- High-Level Architecture Section -->
        <div class="diagram-section" id="highLevel">
            <div class="section-header">
                <div class="section-title">ğŸ›ï¸ High-Level Architecture</div>
                <div class="section-description">System Architecture - Infrastructure and service layers</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">System Architecture - SynergyOS</h3>
                
                <div class="architecture-layer" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                    <div class="layer-title" style="color: white;">ğŸŒ Client Layer</div>
                    <div class="layer-components">
                        <div class="component" style="background: rgba(255, 255, 255, 0.2); color: white; border: 2px solid white;">
                            ğŸ’» Web Browser
                        </div>
                        <div class="component" style="background: rgba(255, 255, 255, 0.2); color: white; border: 2px solid white;">
                            âš›ï¸ React Application
                        </div>
                        <div class="component" style="background: rgba(255, 255, 255, 0.2); color: white; border: 2px solid white;">
                            ğŸ¨ Tailwind CSS
                        </div>
                    </div>
                </div>

                <div class="connection-arrow">â¬‡ï¸ HTTPS/WSS</div>

                <div class="architecture-layer" style="border-color: #10b981;">
                    <div class="layer-title" style="color: #10b981;">ğŸ”€ Reverse Proxy Layer</div>
                    <div class="layer-components">
                        <div class="component" style="background: #d1fae5; border: 2px solid #10b981;">
                            ğŸŒ Nginx (Port 80)
                        </div>
                        <div class="component" style="background: #d1fae5; border: 2px solid #10b981;">
                            ğŸ“¡ Load Balancer
                        </div>
                        <div class="component" style="background: #d1fae5; border: 2px solid #10b981;">
                            ğŸ—‚ï¸ Static File Server
                        </div>
                        <div class="component" style="background: #d1fae5; border: 2px solid #10b981;">
                            ğŸ”’ SSL Termination
                        </div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div class="connection-arrow">â¬‡ï¸ /api/</div>
                    <div class="connection-arrow">â¬‡ï¸ /</div>
                </div>

                <div class="diagram-grid">
                    <div class="architecture-layer" style="border-color: #f59e0b;">
                        <div class="layer-title" style="color: #f59e0b;">ğŸ Backend (Django)</div>
                        <div class="layer-components">
                            <div class="component">ğŸ” REST API</div>
                            <div class="component">ğŸ”‘ JWT Auth</div>
                            <div class="component">ğŸ‘¥ Accounts App</div>
                            <div class="component">ğŸ“ Projects App</div>
                            <div class="component">ğŸ›¡ï¸ Middleware</div>
                            <div class="component">ğŸ“§ Email Service</div>
                        </div>
                    </div>

                    <div class="architecture-layer" style="border-color: #3b82f6;">
                        <div class="layer-title" style="color: #3b82f6;">âš›ï¸ Frontend (React)</div>
                        <div class="layer-components">
                            <div class="component">ğŸ›£ï¸ React Router v7</div>
                            <div class="component">ğŸ”„ State Management</div>
                            <div class="component">ğŸ¨ UI Components</div>
                            <div class="component">ğŸŒ API Client</div>
                            <div class="component">ğŸ”’ Auth Context</div>
                            <div class="component">ğŸ“± Responsive UI</div>
                        </div>
                    </div>
                </div>

                <div class="connection-arrow">â¬‡ï¸ ORM / SQL</div>

                <div class="architecture-layer" style="border-color: #8b5cf6;">
                    <div class="layer-title" style="color: #8b5cf6;">ğŸ’¾ Data Layer</div>
                    <div class="layer-components">
                        <div class="component" style="background: #ede9fe; border: 2px solid #8b5cf6;">
                            ğŸ˜ PostgreSQL 16 (Port 5432)
                        </div>
                        <div class="component" style="background: #ede9fe; border: 2px solid #8b5cf6;">
                            ğŸ”´ Redis 7 (Port 6379)
                        </div>
                        <div class="component" style="background: #ede9fe; border: 2px solid #8b5cf6;">
                            ğŸ“¦ Persistent Volumes
                        </div>
                    </div>
                </div>

                <div class="connection-arrow">â¬…ï¸â¡ï¸ Message Queue</div>

                <div class="architecture-layer" style="border-color: #ec4899;">
                    <div class="layer-title" style="color: #ec4899;">âš¡ Background Processing</div>
                    <div class="layer-components">
                        <div class="component" style="background: #fce7f3; border: 2px solid #ec4899;">
                            ğŸ¯ Celery Worker
                        </div>
                        <div class="component" style="background: #fce7f3; border: 2px solid #ec4899;">
                            â° Celery Beat
                        </div>
                        <div class="component" style="background: #fce7f3; border: 2px solid #ec4899;">
                            ğŸ“¬ Task Queue
                        </div>
                        <div class="component" style="background: #fce7f3; border: 2px solid #ec4899;">
                            ğŸ”„ Scheduled Jobs
                        </div>
                    </div>
                </div>

                <div style="margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #f8f9fa, #e9ecef); border-radius: 10px; border-left: 5px solid #667eea;">
                    <h4 style="color: #667eea; margin-bottom: 15px;">ğŸ³ Docker Services (7 Total):</h4>
                    <div class="diagram-grid">
                        <div class="component" style="background: white; border: 2px solid #667eea;">ğŸ“Š db - PostgreSQL 16</div>
                        <div class="component" style="background: white; border: 2px solid #667eea;">ğŸ”´ redis - Redis 7</div>
                        <div class="component" style="background: white; border: 2px solid #667eea;">ğŸ backend - Django</div>
                        <div class="component" style="background: white; border: 2px solid #667eea;">âš›ï¸ frontend - React</div>
                        <div class="component" style="background: white; border: 2px solid #667eea;">ğŸŒ nginx - Reverse Proxy</div>
                        <div class="component" style="background: white; border: 2px solid #667eea;">âš¡ celery - Worker</div>
                        <div class="component" style="background: white; border: 2px solid #667eea;">â° celery-beat - Scheduler</div>
                    </div>
                </div>

                <div style="margin-top: 20px; padding: 20px; background: #fffbeb; border-radius: 10px; border: 2px solid #f59e0b;">
                    <h4 style="color: #f59e0b;">ğŸ”— External Integrations:</h4>
                    <ul style="line-height: 2;">
                        <li><strong>ğŸ“§ Email Service:</strong> SMTP for password reset & notifications</li>
                        <li><strong>ğŸ¤– AI API:</strong> External AI services (if configured)</li>
                        <li><strong>ğŸ—„ï¸ Storage:</strong> Local file system for uploads</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Deployment Architecture Section -->
        <div class="diagram-section" id="deploymentArch">
            <div class="section-header">
                <div class="section-title">ğŸ³ Deployment Architecture</div>
                <div class="section-description">Docker Container Orchestration - 7 Service Infrastructure</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Docker Compose Architecture - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Network Layer -->
                    <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 12px; margin-bottom: 30px;">
                        <h3 style="color: white; text-align: center;">ğŸŒ Docker Network: synergy-network (Bridge)</h3>
                    </div>

                    <!-- Container Grid -->
                    <div class="diagram-grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
                        <!-- Database Container -->
                        <div style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);">
                            <h4 style="color: white; margin-bottom: 15px;">ğŸ˜ PostgreSQL 16</h4>
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 12px; border-radius: 6px; font-size: 0.9em;">
                                <strong>Container:</strong> db<br>
                                <strong>Image:</strong> postgres:16<br>
                                <strong>Port:</strong> 5432:5432<br>
                                <strong>Volume:</strong> postgres_data<br>
                                <strong>Env:</strong> POSTGRES_DB, USER, PASSWORD<br>
                                <strong>Health:</strong> pg_isready check
                            </div>
                            <div style="margin-top: 10px; text-align: center; font-size: 0.85em;">
                                â¬†ï¸ Data persistence layer
                            </div>
                        </div>

                        <!-- Redis Container -->
                        <div style="background: linear-gradient(135deg, #ef4444, #dc2626); color: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);">
                            <h4 style="color: white; margin-bottom: 15px;">ğŸ”´ Redis 7</h4>
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 12px; border-radius: 6px; font-size: 0.9em;">
                                <strong>Container:</strong> redis<br>
                                <strong>Image:</strong> redis:7-alpine<br>
                                <strong>Port:</strong> 6379:6379<br>
                                <strong>Volume:</strong> redis_data<br>
                                <strong>Command:</strong> redis-server<br>
                                <strong>Health:</strong> redis-cli ping
                            </div>
                            <div style="margin-top: 10px; text-align: center; font-size: 0.85em;">
                                â¬†ï¸ Cache & message broker
                            </div>
                        </div>

                        <!-- Backend Container -->
                        <div style="background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);">
                            <h4 style="color: white; margin-bottom: 15px;">ğŸ Django Backend</h4>
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 12px; border-radius: 6px; font-size: 0.9em;">
                                <strong>Container:</strong> backend<br>
                                <strong>Build:</strong> ./backend<br>
                                <strong>Port:</strong> 8000:8000<br>
                                <strong>Volume:</strong> ./backend + media<br>
                                <strong>Depends:</strong> db, redis<br>
                                <strong>Command:</strong> gunicorn wsgi
                            </div>
                            <div style="margin-top: 10px; text-align: center; font-size: 0.85em;">
                                â¬†ï¸ REST API server
                            </div>
                        </div>

                        <!-- Frontend Container -->
                        <div style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);">
                            <h4 style="color: white; margin-bottom: 15px;">âš›ï¸ React Frontend</h4>
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 12px; border-radius: 6px; font-size: 0.9em;">
                                <strong>Container:</strong> frontend<br>
                                <strong>Build:</strong> ./frontend<br>
                                <strong>Port:</strong> 5173:5173<br>
                                <strong>Volume:</strong> ./frontend<br>
                                <strong>Env:</strong> VITE_API_URL<br>
                                <strong>Command:</strong> npm run dev
                            </div>
                            <div style="margin-top: 10px; text-align: center; font-size: 0.85em;">
                                â¬†ï¸ SPA client
                            </div>
                        </div>

                        <!-- Nginx Container -->
                        <div style="background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);">
                            <h4 style="color: white; margin-bottom: 15px;">ğŸŒ Nginx Proxy</h4>
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 12px; border-radius: 6px; font-size: 0.9em;">
                                <strong>Container:</strong> nginx<br>
                                <strong>Image:</strong> nginx:alpine<br>
                                <strong>Port:</strong> 80:80<br>
                                <strong>Volume:</strong> ./nginx.conf<br>
                                <strong>Depends:</strong> backend, frontend<br>
                                <strong>Routes:</strong> /api â†’ backend
                            </div>
                            <div style="margin-top: 10px; text-align: center; font-size: 0.85em;">
                                â¬†ï¸ Reverse proxy & load balancer
                            </div>
                        </div>

                        <!-- Celery Worker Container -->
                        <div style="background: linear-gradient(135deg, #ec4899, #db2777); color: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(236, 72, 153, 0.3);">
                            <h4 style="color: white; margin-bottom: 15px;">âš¡ Celery Worker</h4>
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 12px; border-radius: 6px; font-size: 0.9em;">
                                <strong>Container:</strong> celery<br>
                                <strong>Build:</strong> ./backend<br>
                                <strong>Command:</strong> celery worker<br>
                                <strong>Depends:</strong> db, redis<br>
                                <strong>Env:</strong> CELERY_BROKER_URL<br>
                                <strong>Tasks:</strong> Email, AI processing
                            </div>
                            <div style="margin-top: 10px; text-align: center; font-size: 0.85em;">
                                â¬†ï¸ Async task processor
                            </div>
                        </div>

                        <!-- Celery Beat Container -->
                        <div style="background: linear-gradient(135deg, #14b8a6, #0d9488); color: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(20, 184, 166, 0.3);">
                            <h4 style="color: white; margin-bottom: 15px;">â° Celery Beat</h4>
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 12px; border-radius: 6px; font-size: 0.9em;">
                                <strong>Container:</strong> celery-beat<br>
                                <strong>Build:</strong> ./backend<br>
                                <strong>Command:</strong> celery beat<br>
                                <strong>Depends:</strong> redis<br>
                                <strong>Schedule:</strong> Periodic tasks<br>
                                <strong>Jobs:</strong> Notifications, cleanup
                            </div>
                            <div style="margin-top: 10px; text-align: center; font-size: 0.85em;">
                                â¬†ï¸ Task scheduler
                            </div>
                        </div>
                    </div>

                    <!-- Data Flow Connections -->
                    <div style="margin-top: 40px; background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">ğŸ”— Container Dependencies & Communication:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #10b981;">âœ… Backend Dependencies:</strong><br>
                                <span style="margin-left: 10px;">â†’ db (PostgreSQL)</span><br>
                                <span style="margin-left: 10px;">â†’ redis (Cache/Queue)</span>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #3b82f6;">âœ… Nginx Dependencies:</strong><br>
                                <span style="margin-left: 10px;">â†’ backend (API proxy)</span><br>
                                <span style="margin-left: 10px;">â†’ frontend (Static files)</span>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #ec4899;">âœ… Celery Dependencies:</strong><br>
                                <span style="margin-left: 10px;">â†’ redis (Message broker)</span><br>
                                <span style="margin-left: 10px;">â†’ db (Task results)</span>
                            </div>
                        </div>
                    </div>

                    <!-- Volume Management -->
                    <div style="margin-top: 20px; background: #fffbeb; padding: 20px; border-radius: 10px; border: 2px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 10px;">ğŸ’¾ Persistent Volumes:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>postgres_data:</strong> Database files (survives container restart)</li>
                            <li><strong>redis_data:</strong> Cache persistence</li>
                            <li><strong>media_files:</strong> User uploads (avatars, task attachments)</li>
                        </ul>
                    </div>

                    <!-- Startup Sequence -->
                    <div style="margin-top: 20px; background: #dcfce7; padding: 20px; border-radius: 10px; border: 2px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 10px;">ğŸš€ Startup Sequence:</h4>
                        <div style="font-family: monospace; background: white; padding: 15px; border-radius: 6px; margin-top: 10px;">
                            1. docker-compose up -d db redis<br>
                            2. Wait for health checks (pg_isready, redis-cli ping)<br>
                            3. Start backend (migrations + collectstatic)<br>
                            4. Start frontend (npm build)<br>
                            5. Start nginx (proxy configuration)<br>
                            6. Start celery worker + beat (background tasks)
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Security Architecture Section -->
        <div class="diagram-section" id="securityArch">
            <div class="section-header">
                <div class="section-title">ğŸ”’ Security Architecture</div>
                <div class="section-description">Multi-Layer Security - Authentication, Authorization & Monitoring</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Security Layers - SynergyOS</h3>
                
                <!-- Security Layers -->
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Layer 1: Network Security -->
                    <div class="architecture-layer" style="border-color: #ef4444; background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.1));">
                        <div class="layer-title" style="color: #ef4444;">ğŸŒ Layer 1: Network Security</div>
                        <div class="layer-components">
                            <div class="component" style="border: 2px solid #ef4444;">ğŸ”¥ Firewall Rules</div>
                            <div class="component" style="border: 2px solid #ef4444;">ğŸŒ CORS Policy</div>
                            <div class="component" style="border: 2px solid #ef4444;">ğŸ”’ HTTPS/SSL</div>
                            <div class="component" style="border: 2px solid #ef4444;">ğŸš« Rate Limiting</div>
                            <div class="component" style="border: 2px solid #ef4444;">ğŸ›¡ï¸ DDoS Protection</div>
                        </div>
                    </div>

                    <div class="connection-arrow">â¬‡ï¸ Request passes through</div>

                    <!-- Layer 2: Authentication -->
                    <div class="architecture-layer" style="border-color: #f59e0b; background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.1));">
                        <div class="layer-title" style="color: #f59e0b;">ğŸ”‘ Layer 2: Authentication</div>
                        <div class="layer-components">
                            <div class="component" style="border: 2px solid #f59e0b;">ğŸ« JWT Tokens</div>
                            <div class="component" style="border: 2px solid #f59e0b;">ğŸ” Password Hashing (bcrypt)</div>
                            <div class="component" style="border: 2px solid #f59e0b;">ğŸ“§ Email Verification</div>
                            <div class="component" style="border: 2px solid #f59e0b;">ğŸ”„ Token Refresh</div>
                            <div class="component" style="border: 2px solid #f59e0b;">â° Session Timeout</div>
                        </div>
                    </div>

                    <div class="connection-arrow">â¬‡ï¸ User authenticated</div>

                    <!-- Layer 3: Authorization -->
                    <div class="architecture-layer" style="border-color: #10b981; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1));">
                        <div class="layer-title" style="color: #10b981;">ğŸ‘¥ Layer 3: Role-Based Access Control (RBAC)</div>
                        <div style="background: white; padding: 20px; border-radius: 8px; margin-top: 15px;">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                                <div style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; padding: 15px; border-radius: 8px;">
                                    <h5 style="color: white; margin-bottom: 10px;">ğŸ‘” Manager Role</h5>
                                    <div style="font-size: 0.9em;">
                                        âœ… Create/Edit/Delete Projects<br>
                                        âœ… Assign Team Members<br>
                                        âœ… Create Tasks<br>
                                        âœ… View All Activity<br>
                                        âœ… Access Analytics<br>
                                        âŒ Cannot delete others' projects
                                    </div>
                                </div>
                                <div style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; padding: 15px; border-radius: 8px;">
                                    <h5 style="color: white; margin-bottom: 10px;">ğŸ‘¤ Member Role</h5>
                                    <div style="font-size: 0.9em;">
                                        âœ… View Assigned Projects<br>
                                        âœ… Update Task Status<br>
                                        âœ… Upload Attachments<br>
                                        âœ… Send Messages<br>
                                        âŒ Cannot create projects<br>
                                        âŒ Cannot assign tasks
                                    </div>
                                </div>
                                <div style="background: linear-gradient(135deg, #ef4444, #dc2626); color: white; padding: 15px; border-radius: 8px;">
                                    <h5 style="color: white; margin-bottom: 10px;">âš¡ Admin Role</h5>
                                    <div style="font-size: 0.9em;">
                                        âœ… Full System Access<br>
                                        âœ… User Management<br>
                                        âœ… View Security Logs<br>
                                        âœ… System Configuration<br>
                                        âœ… Database Access<br>
                                        âœ… Override Permissions
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="connection-arrow">â¬‡ï¸ Permission validated</div>

                    <!-- Layer 4: Data Security -->
                    <div class="architecture-layer" style="border-color: #8b5cf6; background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(124, 58, 237, 0.1));">
                        <div class="layer-title" style="color: #8b5cf6;">ğŸ—„ï¸ Layer 4: Data Security</div>
                        <div class="layer-components">
                            <div class="component" style="border: 2px solid #8b5cf6;">ğŸ” Database Encryption</div>
                            <div class="component" style="border: 2px solid #8b5cf6;">ğŸ”’ Password Field Hashing</div>
                            <div class="component" style="border: 2px solid #8b5cf6;">ğŸ­ Data Masking</div>
                            <div class="component" style="border: 2px solid #8b5cf6;">ğŸ“ Audit Logs</div>
                            <div class="component" style="border: 2px solid #8b5cf6;">ğŸ” SQL Injection Protection</div>
                        </div>
                    </div>

                    <div class="connection-arrow">â¬‡ï¸ Monitored</div>

                    <!-- Layer 5: Security Monitoring -->
                    <div class="architecture-layer" style="border-color: #ec4899; background: linear-gradient(135deg, rgba(236, 72, 153, 0.1), rgba(219, 39, 119, 0.1));">
                        <div class="layer-title" style="color: #ec4899;">ğŸ“Š Layer 5: Security Monitoring</div>
                        <div class="layer-components">
                            <div class="component" style="border: 2px solid #ec4899;">ğŸš¨ SecurityEvent Logging</div>
                            <div class="component" style="border: 2px solid #ec4899;">ğŸ” Failed Login Tracking</div>
                            <div class="component" style="border: 2px solid #ec4899;">ğŸ“ IP Address Logging</div>
                            <div class="component" style="border: 2px solid #ec4899;">âš ï¸ Suspicious Activity Alerts</div>
                            <div class="component" style="border: 2px solid #ec4899;">ğŸ“ˆ Real-time Monitoring</div>
                        </div>
                    </div>

                    <!-- JWT Flow Detail -->
                    <div style="margin-top: 40px; background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">ğŸ« JWT Token Flow:</h4>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                            <div class="flow-step" style="max-width: 500px; margin: 15px auto;">
                                <strong>1. Login Request</strong><br>
                                <code style="background: #e5e7eb; padding: 5px 10px; border-radius: 4px; display: inline-block; margin-top: 5px;">
                                    POST /api/login/ { email, password }
                                </code>
                            </div>
                            <div class="flow-step" style="max-width: 500px; margin: 15px auto;">
                                <strong>2. Verify Credentials</strong><br>
                                <span style="font-size: 0.9em;">Check password hash + user.is_active</span>
                            </div>
                            <div class="flow-step" style="max-width: 500px; margin: 15px auto;">
                                <strong>3. Generate JWT</strong><br>
                                <code style="background: #e5e7eb; padding: 5px 10px; border-radius: 4px; display: inline-block; margin-top: 5px;">
                                    Payload: { user_id, email, role, exp: 24h }
                                </code>
                            </div>
                            <div class="flow-step" style="max-width: 500px; margin: 15px auto;">
                                <strong>4. Return Token</strong><br>
                                <code style="background: #e5e7eb; padding: 5px 10px; border-radius: 4px; display: inline-block; margin-top: 5px;">
                                    Response: { access_token, user_data }
                                </code>
                            </div>
                            <div class="flow-step" style="max-width: 500px; margin: 15px auto; border-color: #10b981; background: #d1fae5;">
                                <strong>5. Store Client-Side</strong><br>
                                <span style="font-size: 0.9em;">localStorage.setItem('token', access_token)</span>
                            </div>
                            <div class="flow-step" style="max-width: 500px; margin: 15px auto; border-color: #3b82f6; background: #dbeafe;">
                                <strong>6. Subsequent Requests</strong><br>
                                <code style="background: white; padding: 5px 10px; border-radius: 4px; display: inline-block; margin-top: 5px;">
                                    Header: Authorization: Bearer &lt;token&gt;
                                </code>
                            </div>
                            <div class="flow-step" style="max-width: 500px; margin: 15px auto; border-color: #f59e0b; background: #fffbeb;">
                                <strong>7. Verify Token</strong><br>
                                <span style="font-size: 0.9em;">Decode + Validate signature + Check expiry</span>
                            </div>
                        </div>
                    </div>

                    <!-- Security Middleware -->
                    <div style="margin-top: 20px; background: #fee2e2; padding: 20px; border-radius: 10px; border: 2px solid #ef4444;">
                        <h4 style="color: #ef4444; margin-bottom: 10px;">ğŸ›¡ï¸ Security Middleware Chain:</h4>
                        <div style="font-family: monospace; background: white; padding: 15px; border-radius: 6px; margin-top: 10px; font-size: 0.95em;">
                            1. <strong>SecurityEventMiddleware</strong> - Log all requests<br>
                            2. <strong>CORS Middleware</strong> - Validate origin<br>
                            3. <strong>JWT Authentication</strong> - Verify token<br>
                            4. <strong>Permission Middleware</strong> - Check role access<br>
                            5. <strong>Rate Limiting</strong> - Prevent abuse<br>
                            6. <strong>XSS Protection</strong> - Sanitize inputs
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Low-Level Design Section -->
        <div class="diagram-section" id="lowLevel">
            <div class="section-header">
                <div class="section-title">âš™ï¸ Low-Level Design</div>
                <div class="section-description">Component Design - Detailed implementation architecture</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Component Design - SynergyOS</h3>
                
                <!-- Frontend Component Hierarchy -->
                <div style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; padding: 20px; border-radius: 12px; margin-bottom: 30px;">
                    <h3 style="color: white; margin-bottom: 20px;">âš›ï¸ Frontend Component Architecture</h3>
                    
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>ğŸ“ app/</strong>
                        <div style="margin-left: 20px; margin-top: 10px;">
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 10px; border-radius: 6px; margin: 5px 0;">
                                <strong>root.tsx</strong> - Application Shell
                                <div style="margin-left: 15px; margin-top: 5px; font-size: 0.9em;">
                                    â€¢ AuthProvider Context<br>
                                    â€¢ Global Layout<br>
                                    â€¢ Navbar Component<br>
                                    â€¢ Router Outlet
                                </div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 10px; border-radius: 6px; margin: 5px 0;">
                                <strong>routes/</strong> - Page Components
                                <div style="margin-left: 15px; margin-top: 5px; font-size: 0.9em;">
                                    â€¢ <strong>login.tsx</strong> - Authentication + Role Redirect<br>
                                    â€¢ <strong>dashboard.tsx</strong> - Manager Dashboard (Protected)<br>
                                    â€¢ <strong>team-dashboard.tsx</strong> - Member Dashboard<br>
                                    â€¢ <strong>projects.tsx</strong> - Project List View<br>
                                    â€¢ <strong>projects.$id.tsx</strong> - Project Details + Tasks<br>
                                    â€¢ <strong>profile.tsx</strong> - User Settings
                                </div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 10px; border-radius: 6px; margin: 5px 0;">
                                <strong>components/</strong> - Reusable UI
                                <div style="margin-left: 15px; margin-top: 5px; font-size: 0.9em;">
                                    â€¢ <strong>LoadingScreen</strong> - Custom GIF Animation<br>
                                    â€¢ <strong>ProtectedRoute</strong> - Auth Guard<br>
                                    â€¢ <strong>TaskModal</strong> - Task Creation/Edit<br>
                                    â€¢ <strong>Navbar</strong> - Dynamic Navigation
                                </div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.2); padding: 10px; border-radius: 6px; margin: 5px 0;">
                                <strong>services/</strong> - API Integration
                                <div style="margin-left: 15px; margin-top: 5px; font-size: 0.9em;">
                                    â€¢ <strong>auth.service.ts</strong> - Login/Register/Reset<br>
                                    â€¢ <strong>project.service.ts</strong> - CRUD Operations
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Backend Module Design -->
                <div style="background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 20px; border-radius: 12px; margin-bottom: 30px;">
                    <h3 style="color: white; margin-bottom: 20px;">ğŸ Backend Django Architecture</h3>
                    
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>ğŸ“¦ accounts/</strong> - User Management
                        <div style="margin-left: 20px; margin-top: 10px; font-size: 0.95em;">
                            <strong>models.py:</strong>
                            <div style="margin-left: 15px; background: rgba(0, 0, 0, 0.2); padding: 10px; border-radius: 4px; margin-top: 5px; font-family: monospace;">
                                class User(AbstractBaseUser):<br>
                                &nbsp;&nbsp;email, password, role, is_active<br><br>
                                class UserProfile(Model):<br>
                                &nbsp;&nbsp;user, department, phone, avatar
                            </div>
                            
                            <strong style="margin-top: 10px; display: block;">views.py:</strong>
                            <div style="margin-left: 15px; background: rgba(0, 0, 0, 0.2); padding: 10px; border-radius: 4px; margin-top: 5px;">
                                â€¢ RegisterView - User signup<br>
                                â€¢ LoginView - JWT token generation<br>
                                â€¢ PasswordResetView - Email reset link<br>
                                â€¢ UserProfileView - CRUD profile data
                            </div>
                            
                            <strong style="margin-top: 10px; display: block;">middleware.py:</strong>
                            <div style="margin-left: 15px; background: rgba(0, 0, 0, 0.2); padding: 10px; border-radius: 4px; margin-top: 5px;">
                                â€¢ SecurityEventMiddleware<br>
                                â€¢ Log suspicious activities<br>
                                â€¢ Track failed login attempts
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>ğŸ“¦ projects/</strong> - Project & Task Management
                        <div style="margin-left: 20px; margin-top: 10px; font-size: 0.95em;">
                            <strong>models.py:</strong>
                            <div style="margin-left: 15px; background: rgba(0, 0, 0, 0.2); padding: 10px; border-radius: 4px; margin-top: 5px; font-family: monospace;">
                                class Project(Model):<br>
                                &nbsp;&nbsp;manager, name, members (M2M)<br><br>
                                class Task(Model):<br>
                                &nbsp;&nbsp;project, assigned_to, status<br><br>
                                class TaskAttachment(Model):<br>
                                &nbsp;&nbsp;task, file, uploaded_by<br><br>
                                class ProjectMessage(Model):<br>
                                &nbsp;&nbsp;project, sender, message
                            </div>
                            
                            <strong style="margin-top: 10px; display: block;">views.py (ViewSets):</strong>
                            <div style="margin-left: 15px; background: rgba(0, 0, 0, 0.2); padding: 10px; border-radius: 4px; margin-top: 5px;">
                                â€¢ ProjectViewSet - CRUD + permissions<br>
                                â€¢ TaskViewSet - Filtering by project/user<br>
                                â€¢ TaskAttachmentViewSet - File uploads<br>
                                â€¢ MessageViewSet - Real-time messaging
                            </div>
                        </div>
                    </div>
                </div>

                <!-- API Endpoints -->
                <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; border-left: 5px solid #667eea; margin-bottom: 30px;">
                    <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ”— RESTful API Endpoints</h3>
                    
                    <div class="diagram-grid" style="grid-template-columns: 1fr;">
                        <div style="background: white; padding: 15px; border-radius: 8px; border: 2px solid #10b981; margin: 5px 0;">
                            <strong style="color: #10b981;">ğŸ” Authentication</strong>
                            <div style="margin-top: 10px; font-family: monospace; font-size: 0.9em;">
                                POST /api/register/ - User signup<br>
                                POST /api/login/ - JWT token<br>
                                POST /api/password-reset/ - Request reset<br>
                                POST /api/password-reset-confirm/ - Set new password
                            </div>
                        </div>
                        
                        <div style="background: white; padding: 15px; border-radius: 8px; border: 2px solid #3b82f6; margin: 5px 0;">
                            <strong style="color: #3b82f6;">ğŸ“ Projects</strong>
                            <div style="margin-top: 10px; font-family: monospace; font-size: 0.9em;">
                                GET /api/projects/ - List projects<br>
                                POST /api/projects/ - Create project<br>
                                GET /api/projects/:id/ - Project details<br>
                                PUT /api/projects/:id/ - Update project<br>
                                DELETE /api/projects/:id/ - Delete project
                            </div>
                        </div>
                        
                        <div style="background: white; padding: 15px; border-radius: 8px; border: 2px solid #f59e0b; margin: 5px 0;">
                            <strong style="color: #f59e0b;">âœ… Tasks</strong>
                            <div style="margin-top: 10px; font-family: monospace; font-size: 0.9em;">
                                GET /api/tasks/ - List tasks<br>
                                POST /api/tasks/ - Create task<br>
                                PATCH /api/tasks/:id/ - Update status<br>
                                GET /api/attachments/by_task/?task_id=X - View proof
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Data Flow -->
                <div style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; padding: 20px; border-radius: 12px;">
                    <h3 style="color: white; margin-bottom: 15px;">ğŸ”„ Request/Response Flow</h3>
                    
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin: 10px 0; font-size: 0.95em;">
                        <strong>1. Client Request:</strong>
                        <div style="margin-left: 20px; margin-top: 5px;">
                            React Component â†’ API Service â†’ Axios HTTP Client<br>
                            Headers: { Authorization: "Bearer JWT_TOKEN" }
                        </div>
                    </div>
                    
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin: 10px 0; font-size: 0.95em;">
                        <strong>2. Server Processing:</strong>
                        <div style="margin-left: 20px; margin-top: 5px;">
                            Nginx â†’ Django WSGI â†’ URL Router â†’ View<br>
                            JWT Validation â†’ Permission Check â†’ Business Logic
                        </div>
                    </div>
                    
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin: 10px 0; font-size: 0.95em;">
                        <strong>3. Database Query:</strong>
                        <div style="margin-left: 20px; margin-top: 5px;">
                            Django ORM â†’ SQL Generation â†’ PostgreSQL<br>
                            Redis Cache Check â†’ Return Data
                        </div>
                    </div>
                    
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin: 10px 0; font-size: 0.95em;">
                        <strong>4. Response:</strong>
                        <div style="margin-left: 20px; margin-top: 5px;">
                            Serializer â†’ JSON â†’ HTTP Response â†’ React State Update<br>
                            UI Re-render with New Data
                        </div>
                    </div>
                </div>

                <div style="margin-top: 20px; padding: 20px; background: #fffbeb; border-radius: 10px; border: 2px solid #f59e0b;">
                    <h4 style="color: #f59e0b;">ğŸ”§ Technology Stack Details:</h4>
                    <div class="diagram-grid">
                        <div>
                            <strong>Frontend:</strong>
                            <ul style="margin-top: 5px;">
                                <li>React Router v7.9.2</li>
                                <li>TypeScript 5.x</li>
                                <li>Tailwind CSS v4.1.13</li>
                                <li>Vite Build Tool</li>
                            </ul>
                        </div>
                        <div>
                            <strong>Backend:</strong>
                            <ul style="margin-top: 5px;">
                                <li>Django 5.2.7</li>
                                <li>Django REST Framework</li>
                                <li>JWT Authentication</li>
                                <li>Celery 5.x</li>
                            </ul>
                        </div>
                        <div>
                            <strong>Database:</strong>
                            <ul style="margin-top: 5px;">
                                <li>PostgreSQL 16</li>
                                <li>Redis 7 (Cache)</li>
                                <li>Docker Volumes</li>
                            </ul>
                        </div>
                        <div>
                            <strong>DevOps:</strong>
                            <ul style="margin-top: 5px;">
                                <li>Docker Compose</li>
                                <li>Nginx</li>
                                <li>Multi-stage Builds</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Flow Diagram Section -->
        <div class="diagram-section" id="dataFlow">
            <div class="section-header">
                <div class="section-title">ğŸ”„ Data Flow Diagram</div>
                <div class="section-description">Request Pipeline - Complete data flow from client to database</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Request/Response Pipeline - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Example: Create Task Request Flow -->
                    <div style="text-align: center; margin-bottom: 20px;">
                        <h4 style="color: #667eea; background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 15px; border-radius: 10px;">
                            ğŸ“‹ Example Flow: Create New Task
                        </h4>
                    </div>

                    <div class="flow-step" style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; max-width: 600px;">
                        <h4 style="color: white;">ğŸ–¥ï¸ Step 1: User Action (Frontend)</h4>
                        <div style="background: rgba(255, 255, 255, 0.2); padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left;">
                            User clicks "Create Task" button<br>
                            â†“<br>
                            TaskModal component opens<br>
                            â†“<br>
                            User fills: title, description, assigned_to, due_date<br>
                            â†“<br>
                            Form validation (client-side)<br>
                            â†“<br>
                            onClick triggers: handleCreateTask()
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #10b981; background: #d1fae5; max-width: 600px;">
                        <h4 style="color: #10b981;">ğŸ“¡ Step 2: API Service Layer</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            project.service.ts â†’ createTask()<br>
                            â†“<br>
                            const token = localStorage.getItem('token')<br>
                            â†“<br>
                            axios.post('/api/tasks/', taskData, {<br>
                            &nbsp;&nbsp;headers: { Authorization: `Bearer ${token}` }<br>
                            })
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #f59e0b; background: #fffbeb; max-width: 600px;">
                        <h4 style="color: #f59e0b;">ğŸŒ Step 3: Network Layer</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-size: 0.9em; text-align: left; color: #333;">
                            <strong>HTTP Request:</strong><br>
                            POST https://api.synergy.com/api/tasks/<br>
                            <strong>Headers:</strong><br>
                            â€¢ Authorization: Bearer eyJhbGc...<br>
                            â€¢ Content-Type: application/json<br>
                            <strong>Body:</strong><br>
                            { project_id, title, description, assigned_to, due_date }
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #8b5cf6; background: #ede9fe; max-width: 600px;">
                        <h4 style="color: #8b5cf6;">ğŸ”€ Step 4: Nginx Reverse Proxy</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            Nginx receives request on port 80<br>
                            â†“<br>
                            Check route: /api/* â†’ backend:8000<br>
                            â†“<br>
                            SSL termination (if HTTPS)<br>
                            â†“<br>
                            Add X-Forwarded-For header<br>
                            â†“<br>
                            Proxy to Django backend
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #ef4444; background: #fee2e2; max-width: 600px;">
                        <h4 style="color: #ef4444;">ğŸ”’ Step 5: Security Middleware</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-size: 0.9em; text-align: left; color: #333;">
                            <strong>SecurityEventMiddleware:</strong><br>
                            â€¢ Log request (IP, timestamp, endpoint)<br>
                            <br>
                            <strong>CORS Middleware:</strong><br>
                            â€¢ Validate origin header<br>
                            <br>
                            <strong>JWT Authentication:</strong><br>
                            â€¢ Extract token from header<br>
                            â€¢ Decode and verify signature<br>
                            â€¢ Check expiration<br>
                            â€¢ Attach user to request.user<br>
                            <br>
                            <strong>Rate Limiting:</strong><br>
                            â€¢ Check request count (Redis cache)
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #ec4899; background: #fce7f3; max-width: 600px;">
                        <h4 style="color: #ec4899;">ğŸ›£ï¸ Step 6: URL Routing</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            SynergyOS/urls.py<br>
                            â†“<br>
                            path('api/', include('projects.urls'))<br>
                            â†“<br>
                            projects/urls.py<br>
                            â†“<br>
                            router.register('tasks', TaskViewSet)<br>
                            â†“<br>
                            Route to: TaskViewSet.create()
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #14b8a6; background: #ccfbf1; max-width: 600px;">
                        <h4 style="color: #14b8a6;">âš™ï¸ Step 7: View Processing (Backend)</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            TaskViewSet.create(request)<br>
                            â†“<br>
                            # Permission check<br>
                            if not request.user.role == 'manager':<br>
                            &nbsp;&nbsp;return 403 Forbidden<br>
                            â†“<br>
                            # Deserialize data<br>
                            serializer = TaskSerializer(data=request.data)<br>
                            â†“<br>
                            # Validate<br>
                            serializer.is_valid(raise_exception=True)<br>
                            â†“<br>
                            # Save to database<br>
                            task = serializer.save()
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #6366f1; background: #e0e7ff; max-width: 600px;">
                        <h4 style="color: #6366f1;">ğŸ—„ï¸ Step 8: Database Layer</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            Django ORM generates SQL:<br>
                            â†“<br>
                            INSERT INTO projects_task<br>
                            (project_id, title, description,<br>
                            &nbsp;assigned_to_id, status, due_date)<br>
                            VALUES (...)<br>
                            RETURNING id;<br>
                            â†“<br>
                            PostgreSQL executes query<br>
                            â†“<br>
                            Returns new task ID
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #f97316; background: #ffedd5; max-width: 600px;">
                        <h4 style="color: #f97316;">ğŸ”” Step 9: Side Effects (Celery)</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            # Trigger async tasks<br>
                            send_notification.delay(<br>
                            &nbsp;&nbsp;user_id=task.assigned_to.id,<br>
                            &nbsp;&nbsp;message=f"New task: {task.title}"<br>
                            )<br>
                            â†“<br>
                            Task queued to Redis<br>
                            â†“<br>
                            Celery worker picks up task<br>
                            â†“<br>
                            Send email notification
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #10b981; background: #d1fae5; max-width: 600px;">
                        <h4 style="color: #10b981;">â†©ï¸ Step 10: Response Serialization</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            TaskSerializer(task).data<br>
                            â†“<br>
                            JSON Response:<br>
                            {<br>
                            &nbsp;&nbsp;"id": 42,<br>
                            &nbsp;&nbsp;"title": "Implement feature X",<br>
                            &nbsp;&nbsp;"status": "pending",<br>
                            &nbsp;&nbsp;"assigned_to": { "id": 5, "name": "..." },<br>
                            &nbsp;&nbsp;"created_at": "2025-11-15T10:30:00Z"<br>
                            }<br>
                            â†“<br>
                            HTTP 201 Created
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #3b82f6; background: #dbeafe; max-width: 600px;">
                        <h4 style="color: #3b82f6;">ğŸ¨ Step 11: Frontend State Update</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            axios response received<br>
                            â†“<br>
                            const newTask = response.data<br>
                            â†“<br>
                            setTasks([...tasks, newTask])<br>
                            â†“<br>
                            React re-renders component<br>
                            â†“<br>
                            New task appears in UI<br>
                            â†“<br>
                            Show success toast notification
                        </div>
                    </div>

                    <div style="background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 20px; border-radius: 10px; text-align: center; margin-top: 20px; max-width: 600px; margin-left: auto; margin-right: auto;">
                        <h3 style="color: white; margin: 0;">âœ… Complete! Task Created Successfully</h3>
                        <p style="margin-top: 10px; font-size: 0.9em;">Total Time: ~200-500ms</p>
                    </div>

                    <!-- Performance Metrics -->
                    <div style="margin-top: 40px; background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">â±ï¸ Typical Response Times:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #10b981;">~50ms</div>
                                <div style="color: #666; margin-top: 5px;">Database Query</div>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #3b82f6;">~100ms</div>
                                <div style="color: #666; margin-top: 5px;">Full API Request</div>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #f59e0b;">~30ms</div>
                                <div style="color: #666; margin-top: 5px;">JWT Validation</div>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #ef4444;">~5ms</div>
                                <div style="color: #666; margin-top: 5px;">Redis Cache Hit</div>
                            </div>
                        </div>
                    </div>

                    <!-- Error Handling -->
                    <div style="margin-top: 20px; background: #fee2e2; padding: 20px; border-radius: 10px; border: 2px solid #ef4444;">
                        <h4 style="color: #ef4444; margin-bottom: 10px;">ğŸš¨ Error Handling Points:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>Invalid Token:</strong> Return 401 Unauthorized â†’ Redirect to login</li>
                            <li><strong>Permission Denied:</strong> Return 403 Forbidden â†’ Show error message</li>
                            <li><strong>Validation Error:</strong> Return 400 Bad Request â†’ Highlight form fields</li>
                            <li><strong>Database Error:</strong> Return 500 Internal â†’ Log + retry logic</li>
                            <li><strong>Network Timeout:</strong> Axios retry 3 times â†’ Show offline message</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Task Lifecycle Section -->
        <div class="diagram-section" id="taskLifecycle">
            <div class="section-header">
                <div class="section-title">âœ… Task Lifecycle Diagram</div>
                <div class="section-description">Task State Machine - From creation to completion</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Task Management Workflow - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Task States -->
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h4 style="color: #667eea; margin-bottom: 20px;">ğŸ“Š Task Status States</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; max-width: 800px; margin: 0 auto;">
                            <div style="background: linear-gradient(135deg, #94a3b8, #64748b); color: white; padding: 15px; border-radius: 8px; font-weight: bold;">
                                PENDING
                            </div>
                            <div style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; padding: 15px; border-radius: 8px; font-weight: bold;">
                                IN_PROGRESS
                            </div>
                            <div style="background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 15px; border-radius: 8px; font-weight: bold;">
                                IN_REVIEW
                            </div>
                            <div style="background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 15px; border-radius: 8px; font-weight: bold;">
                                COMPLETED
                            </div>
                            <div style="background: linear-gradient(135deg, #ef4444, #dc2626); color: white; padding: 15px; border-radius: 8px; font-weight: bold;">
                                CANCELLED
                            </div>
                        </div>
                    </div>

                    <!-- Lifecycle Flow -->
                    <div class="flow-step" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; max-width: 500px;">
                        <h4 style="color: white;">ğŸ¬ START: Manager Creates Task</h4>
                        <div style="background: rgba(255, 255, 255, 0.2); padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.9em;">
                            POST /api/tasks/<br>
                            Initial Status: <strong>PENDING</strong><br>
                            Assigned to: Team Member<br>
                            Email notification sent
                        </div>
                    </div>

                    <div class="flow-step" style="background: #e5e7eb; border-color: #94a3b8; max-width: 500px;">
                        <h4 style="color: #64748b;">â¸ï¸ PENDING State</h4>
                        <div style="font-size: 0.9em; margin-top: 10px;">
                            <strong>Task is waiting to be started</strong><br>
                            â€¢ Visible in member's dashboard<br>
                            â€¢ Can be edited by manager<br>
                            â€¢ Priority can be changed<br>
                            â€¢ Due date displayed<br>
                            <br>
                            <strong>Allowed Actions:</strong><br>
                            âœ… Member: Start Task<br>
                            âœ… Manager: Edit/Delete/Reassign<br>
                            âŒ Cannot upload proof yet
                        </div>
                    </div>

                    <div style="text-align: center; margin: 20px 0;">
                        <div style="background: #3b82f6; color: white; display: inline-block; padding: 10px 30px; border-radius: 20px; font-weight: bold;">
                            Member clicks "Start Task" â†’
                        </div>
                    </div>

                    <div class="flow-step" style="background: #dbeafe; border-color: #3b82f6; max-width: 500px;">
                        <h4 style="color: #3b82f6;">ğŸš€ IN_PROGRESS State</h4>
                        <div style="font-size: 0.9em; margin-top: 10px; color: #1e3a8a;">
                            <strong>Task is actively being worked on</strong><br>
                            â€¢ Status updated: PATCH /api/tasks/:id/<br>
                            â€¢ Timer starts (optional tracking)<br>
                            â€¢ Activity logged<br>
                            <br>
                            <strong>Allowed Actions:</strong><br>
                            âœ… Member: Add comments, upload progress<br>
                            âœ… Manager: Monitor, send messages<br>
                            âš ï¸ Cannot be deleted by manager<br>
                            âš ï¸ Reassignment requires member approval
                        </div>
                    </div>

                    <div style="text-align: center; margin: 20px 0;">
                        <div style="background: #f59e0b; color: white; display: inline-block; padding: 10px 30px; border-radius: 20px; font-weight: bold;">
                            Member completes work + uploads proof â†’
                        </div>
                    </div>

                    <div class="flow-step" style="background: #fffbeb; border-color: #f59e0b; max-width: 500px;">
                        <h4 style="color: #f59e0b;">ğŸ‘€ IN_REVIEW State</h4>
                        <div style="font-size: 0.9em; margin-top: 10px; color: #92400e;">
                            <strong>Task awaiting manager approval</strong><br>
                            â€¢ POST /api/attachments/ (proof upload)<br>
                            â€¢ Status changed to IN_REVIEW<br>
                            â€¢ Manager notified<br>
                            â€¢ Proof visible to manager<br>
                            <br>
                            <strong>Allowed Actions:</strong><br>
                            âœ… Manager: Approve or Request Changes<br>
                            âœ… Member: Add more attachments<br>
                            â¸ï¸ Work timer paused<br>
                            ğŸ“ Comments allowed
                        </div>
                    </div>

                    <!-- Decision Point -->
                    <div style="background: #fef3c7; border: 3px solid #f59e0b; border-radius: 10px; padding: 20px; margin: 30px auto; max-width: 500px;">
                        <h4 style="color: #f59e0b; text-align: center; margin-bottom: 15px;">âš–ï¸ MANAGER DECISION</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div style="background: #10b981; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>âœ… APPROVE</strong><br>
                                <small>Mark as completed</small>
                            </div>
                            <div style="background: #ef4444; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>ğŸ”„ REQUEST CHANGES</strong><br>
                                <small>Back to IN_PROGRESS</small>
                            </div>
                        </div>
                    </div>

                    <!-- Completion Path -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px;">
                        <div class="flow-step" style="background: #d1fae5; border-color: #10b981; border-width: 3px;">
                            <h4 style="color: #10b981;">âœ… COMPLETED State</h4>
                            <div style="font-size: 0.9em; margin-top: 10px; color: #065f46;">
                                <strong>Task successfully finished</strong><br>
                                â€¢ Manager clicked "Approve"<br>
                                â€¢ Status: COMPLETED<br>
                                â€¢ Completion timestamp saved<br>
                                â€¢ Statistics updated<br>
                                <br>
                                <strong>Effects:</strong><br>
                                âœ… Project progress %  increases<br>
                                âœ… Member performance tracked<br>
                                ğŸ† Achievements unlocked (if any)<br>
                                ğŸ“Š Analytics updated<br>
                                <br>
                                <strong>Task is now read-only</strong>
                            </div>
                        </div>

                        <div class="flow-step" style="background: #fee2e2; border-color: #ef4444; border-width: 3px;">
                            <h4 style="color: #ef4444;">âŒ CANCELLED State</h4>
                            <div style="font-size: 0.9em; margin-top: 10px; color: #991b1b;">
                                <strong>Task abandoned or removed</strong><br>
                                â€¢ Manager can cancel any time<br>
                                â€¢ Requires reason (optional)<br>
                                â€¢ Status: CANCELLED<br>
                                <br>
                                <strong>Reasons:</strong><br>
                                â€¢ Project scope changed<br>
                                â€¢ Duplicate task<br>
                                â€¢ No longer needed<br>
                                â€¢ Reassigned to new task<br>
                                <br>
                                <strong>Task archived (not deleted)</strong>
                            </div>
                        </div>
                    </div>

                    <!-- State Transitions Table -->
                    <div style="margin-top: 40px; background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">ğŸ”„ Valid State Transitions:</h4>
                        <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                            <thead>
                                <tr style="background: #f8f9fa;">
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">From State</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">To State</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Trigger Action</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Who Can Do It</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">PENDING</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">IN_PROGRESS</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Start Task</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Assigned Member</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">PENDING</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">CANCELLED</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Cancel Task</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Manager</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">IN_PROGRESS</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">IN_REVIEW</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Submit for Review</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Assigned Member</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">IN_PROGRESS</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">PENDING</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Pause Task</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Member or Manager</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">IN_REVIEW</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">COMPLETED</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Approve Task</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Manager</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">IN_REVIEW</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">IN_PROGRESS</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Request Changes</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Manager</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Any State</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">CANCELLED</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Cancel Task</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Manager</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Notifications -->
                    <div style="margin-top: 20px; background: #e0e7ff; padding: 20px; border-radius: 10px; border: 2px solid #6366f1;">
                        <h4 style="color: #6366f1; margin-bottom: 10px;">ğŸ”” Automatic Notifications:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>Task Created:</strong> Email to assigned member</li>
                            <li><strong>Status Changed:</strong> Notification to manager</li>
                            <li><strong>Due Date Approaching:</strong> Reminder 24 hours before</li>
                            <li><strong>Review Requested:</strong> Email to manager</li>
                            <li><strong>Task Approved:</strong> Congratulations email to member</li>
                            <li><strong>Changes Requested:</strong> Email with feedback to member</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Use Case Diagram Section -->
        <div class="diagram-section" id="useCaseDiagram">
            <div class="section-header">
                <div class="section-title">ğŸ¯ Use Case Diagram</div>
                <div class="section-description">Actor Interactions - System functionality by user role</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">System Use Cases - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Actors -->
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h4 style="color: #667eea; margin-bottom: 20px;">ğŸ‘¥ System Actors</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; max-width: 800px; margin: 0 auto;">
                            <div style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; padding: 20px; border-radius: 50%; width: 150px; height: 150px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);">
                                <div style="font-size: 3em;">ğŸ‘”</div>
                                <div style="font-weight: bold; margin-top: 10px;">Manager</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; padding: 20px; border-radius: 50%; width: 150px; height: 150px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);">
                                <div style="font-size: 3em;">ğŸ‘¤</div>
                                <div style="font-weight: bold; margin-top: 10px;">Member</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #ef4444, #dc2626); color: white; padding: 20px; border-radius: 50%; width: 150px; height: 150px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);">
                                <div style="font-size: 3em;">âš¡</div>
                                <div style="font-weight: bold; margin-top: 10px;">Admin</div>
                            </div>
                        </div>
                    </div>

                    <!-- Manager Use Cases -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 30px; border-left: 5px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-bottom: 20px;">ğŸ‘” Manager Use Cases</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                            <div style="background: #dbeafe; padding: 15px; border-radius: 8px; border: 2px solid #3b82f6;">
                                <strong style="color: #1e3a8a;">ğŸ“ Project Management</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #1e3a8a;">
                                    <li>Create new project</li>
                                    <li>Edit project details</li>
                                    <li>Delete own projects</li>
                                    <li>Archive completed projects</li>
                                    <li>Set project deadlines</li>
                                </ul>
                            </div>
                            <div style="background: #dbeafe; padding: 15px; border-radius: 8px; border: 2px solid #3b82f6;">
                                <strong style="color: #1e3a8a;">ğŸ‘¥ Team Management</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #1e3a8a;">
                                    <li>Add team members to project</li>
                                    <li>Remove members from project</li>
                                    <li>View member performance</li>
                                    <li>Reassign tasks</li>
                                </ul>
                            </div>
                            <div style="background: #dbeafe; padding: 15px; border-radius: 8px; border: 2px solid #3b82f6;">
                                <strong style="color: #1e3a8a;">âœ… Task Management</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #1e3a8a;">
                                    <li>Create tasks</li>
                                    <li>Assign tasks to members</li>
                                    <li>Set priorities & deadlines</li>
                                    <li>Review task submissions</li>
                                    <li>Approve or request changes</li>
                                </ul>
                            </div>
                            <div style="background: #dbeafe; padding: 15px; border-radius: 8px; border: 2px solid #3b82f6;">
                                <strong style="color: #1e3a8a;">ğŸ“Š Monitoring & Reports</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #1e3a8a;">
                                    <li>View project statistics</li>
                                    <li>Track progress metrics</li>
                                    <li>Monitor team activity</li>
                                    <li>Generate reports</li>
                                </ul>
                            </div>
                            <div style="background: #dbeafe; padding: 15px; border-radius: 8px; border: 2px solid #3b82f6;">
                                <strong style="color: #1e3a8a;">ğŸ’¬ Communication</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #1e3a8a;">
                                    <li>Send project messages</li>
                                    <li>Broadcast announcements</li>
                                    <li>Provide task feedback</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Member Use Cases -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 30px; border-left: 5px solid #8b5cf6;">
                        <h4 style="color: #8b5cf6; margin-bottom: 20px;">ğŸ‘¤ Member Use Cases</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                            <div style="background: #ede9fe; padding: 15px; border-radius: 8px; border: 2px solid #8b5cf6;">
                                <strong style="color: #5b21b6;">ğŸ“‹ Task Execution</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #5b21b6;">
                                    <li>View assigned tasks</li>
                                    <li>Start task work</li>
                                    <li>Update task status</li>
                                    <li>Submit for review</li>
                                    <li>Mark as completed</li>
                                </ul>
                            </div>
                            <div style="background: #ede9fe; padding: 15px; border-radius: 8px; border: 2px solid #8b5cf6;">
                                <strong style="color: #5b21b6;">ğŸ“ File Management</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #5b21b6;">
                                    <li>Upload task attachments</li>
                                    <li>Upload proof of completion</li>
                                    <li>Download project files</li>
                                    <li>View attachment history</li>
                                </ul>
                            </div>
                            <div style="background: #ede9fe; padding: 15px; border-radius: 8px; border: 2px solid #8b5cf6;">
                                <strong style="color: #5b21b6;">ğŸ“Š Project Visibility</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #5b21b6;">
                                    <li>View assigned projects</li>
                                    <li>See project details</li>
                                    <li>Track own progress</li>
                                    <li>View deadlines</li>
                                </ul>
                            </div>
                            <div style="background: #ede9fe; padding: 15px; border-radius: 8px; border: 2px solid #8b5cf6;">
                                <strong style="color: #5b21b6;">ğŸ’¬ Communication</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #5b21b6;">
                                    <li>Read project messages</li>
                                    <li>Reply to manager</li>
                                    <li>Request clarification</li>
                                    <li>View notifications</li>
                                </ul>
                            </div>
                            <div style="background: #ede9fe; padding: 15px; border-radius: 8px; border: 2px solid #8b5cf6;">
                                <strong style="color: #5b21b6;">ğŸ‘¤ Profile Management</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #5b21b6;">
                                    <li>Update profile info</li>
                                    <li>Change password</li>
                                    <li>Upload avatar</li>
                                    <li>Manage notifications</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Admin Use Cases -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 30px; border-left: 5px solid #ef4444;">
                        <h4 style="color: #ef4444; margin-bottom: 20px;">âš¡ Admin Use Cases (Superuser)</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                            <div style="background: #fee2e2; padding: 15px; border-radius: 8px; border: 2px solid #ef4444;">
                                <strong style="color: #991b1b;">ğŸ‘¥ User Administration</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #991b1b;">
                                    <li>Create/Delete users</li>
                                    <li>Assign roles</li>
                                    <li>Activate/Deactivate accounts</li>
                                    <li>Reset passwords</li>
                                    <li>View all user data</li>
                                </ul>
                            </div>
                            <div style="background: #fee2e2; padding: 15px; border-radius: 8px; border: 2px solid #ef4444;">
                                <strong style="color: #991b1b;">ğŸ—„ï¸ System Management</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #991b1b;">
                                    <li>Access Django admin panel</li>
                                    <li>Manage database records</li>
                                    <li>Run migrations</li>
                                    <li>Configure settings</li>
                                </ul>
                            </div>
                            <div style="background: #fee2e2; padding: 15px; border-radius: 8px; border: 2px solid #ef4444;">
                                <strong style="color: #991b1b;">ğŸ”’ Security Monitoring</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #991b1b;">
                                    <li>View security events</li>
                                    <li>Monitor login attempts</li>
                                    <li>Block suspicious IPs</li>
                                    <li>Audit trail access</li>
                                </ul>
                            </div>
                            <div style="background: #fee2e2; padding: 15px; border-radius: 8px; border: 2px solid #ef4444;">
                                <strong style="color: #991b1b;">ğŸ“Š Full System Access</strong>
                                <ul style="margin-top: 10px; font-size: 0.9em; color: #991b1b;">
                                    <li>View all projects</li>
                                    <li>Override permissions</li>
                                    <li>Access all data</li>
                                    <li>System-wide analytics</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Common Use Cases (All Users) -->
                    <div style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 25px; border-radius: 10px; border: 3px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 20px; text-align: center;">ğŸŒ Common Use Cases (All Users)</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div class="component" style="background: white; padding: 15px; border: 2px solid #667eea; text-align: center;">
                                <strong>ğŸ” Authentication</strong><br>
                                <small>Login, Logout, Password Reset</small>
                            </div>
                            <div class="component" style="background: white; padding: 15px; border: 2px solid #667eea; text-align: center;">
                                <strong>ğŸ‘¤ Profile</strong><br>
                                <small>View/Edit Profile, Change Avatar</small>
                            </div>
                            <div class="component" style="background: white; padding: 15px; border: 2px solid #667eea; text-align: center;">
                                <strong>ğŸ”” Notifications</strong><br>
                                <small>View Alerts, Mark as Read</small>
                            </div>
                            <div class="component" style="background: white; padding: 15px; border: 2px solid #667eea; text-align: center;">
                                <strong>ğŸ”’ Security</strong><br>
                                <small>Two-Factor Auth, Session Management</small>
                            </div>
                        </div>
                    </div>

                    <!-- Relationships -->
                    <div style="margin-top: 40px; background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">ğŸ”— Use Case Relationships:</h4>
                        <div style="font-size: 0.95em; line-height: 2;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                                <strong>Â«includeÂ»</strong> - Required dependency<br>
                                <span style="margin-left: 20px;">â€¢ "Create Task" <strong>includes</strong> "Authenticate User"</span><br>
                                <span style="margin-left: 20px;">â€¢ "Upload Attachment" <strong>includes</strong> "Select Task"</span>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                                <strong>Â«extendÂ»</strong> - Optional enhancement<br>
                                <span style="margin-left: 20px;">â€¢ "Create Task" can be <strong>extended by</strong> "Add Attachments"</span><br>
                                <span style="margin-left: 20px;">â€¢ "Submit Task" can be <strong>extended by</strong> "Add Comments"</span>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                                <strong>Â«generalizationÂ»</strong> - Inheritance<br>
                                <span style="margin-left: 20px;">â€¢ "Manager" <strong>inherits from</strong> "Authenticated User"</span><br>
                                <span style="margin-left: 20px;">â€¢ "Admin" <strong>has all permissions of</strong> "Manager" + more</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- API Architecture Section -->
        <div class="diagram-section" id="apiArchitecture">
            <div class="section-header">
                <div class="section-title">ğŸŒ API Architecture</div>
                <div class="section-description">RESTful API Design - Endpoint structure and documentation</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">REST API Architecture - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- API Base Structure -->
                    <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 12px; margin-bottom: 30px; text-align: center;">
                        <h3 style="color: white;">ğŸ”— Base URL: <code style="background: rgba(255,255,255,0.2); padding: 5px 15px; border-radius: 6px;">https://api.synergy.com/api/</code></h3>
                        <p style="margin-top: 10px; font-size: 0.9em;">API Version: v1 | Format: JSON | Authentication: JWT Bearer Token</p>
                    </div>

                    <!-- Authentication Endpoints -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 20px;">ğŸ” Authentication Endpoints</h4>
                        
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <span style="background: #10b981; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">POST</span>
                                <code style="font-size: 1.1em;">/register/</code>
                            </div>
                            <div style="margin-left: 20px;">
                                <strong>Description:</strong> Create new user account<br>
                                <strong>Request Body:</strong>
                                <pre style="background: white; padding: 10px; border-radius: 6px; margin-top: 5px; font-size: 0.9em;">{
  "email": "user@example.com",
  "password": "securePassword123",
  "role": "member",
  "department": "Engineering"
}</pre>
                                <strong>Response (201 Created):</strong>
                                <pre style="background: white; padding: 10px; border-radius: 6px; margin-top: 5px; font-size: 0.9em;">{
  "id": 42,
  "email": "user@example.com",
  "role": "member",
  "message": "User registered successfully"
}</pre>
                            </div>
                        </div>

                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <span style="background: #10b981; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">POST</span>
                                <code style="font-size: 1.1em;">/login/</code>
                            </div>
                            <div style="margin-left: 20px;">
                                <strong>Description:</strong> Authenticate user and get JWT token<br>
                                <strong>Request Body:</strong>
                                <pre style="background: white; padding: 10px; border-radius: 6px; margin-top: 5px; font-size: 0.9em;">{
  "email": "user@example.com",
  "password": "securePassword123"
}</pre>
                                <strong>Response (200 OK):</strong>
                                <pre style="background: white; padding: 10px; border-radius: 6px; margin-top: 5px; font-size: 0.9em;">{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 42,
    "email": "user@example.com",
    "role": "member"
  }
}</pre>
                            </div>
                        </div>

                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <span style="background: #10b981; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">POST</span>
                                <code style="font-size: 1.1em;">/password-reset/</code>
                            </div>
                            <div style="margin-left: 20px;">
                                <strong>Description:</strong> Request password reset email<br>
                                <strong>Request Body:</strong>
                                <pre style="background: white; padding: 10px; border-radius: 6px; margin-top: 5px; font-size: 0.9em;">{
  "email": "user@example.com"
}</pre>
                                <strong>Response (200 OK):</strong>
                                <pre style="background: white; padding: 10px; border-radius: 6px; margin-top: 5px; font-size: 0.9em;">{
  "message": "Password reset link sent to email"
}</pre>
                            </div>
                        </div>
                    </div>

                    <!-- Project Endpoints -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-bottom: 20px;">ğŸ“ Project Management Endpoints</h4>
                        
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="background: #3b82f6; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">GET</span>
                                    <code style="font-size: 1.1em;">/projects/</code>
                                    <span style="background: #fef3c7; color: #92400e; padding: 3px 10px; border-radius: 4px; font-size: 0.85em;">ğŸ”’ Auth Required</span>
                                </div>
                                <div style="margin-left: 20px; margin-top: 10px;">
                                    <strong>Description:</strong> List all projects (filtered by role)<br>
                                    <strong>Query Params:</strong> ?status=active&manager_id=5<br>
                                    <strong>Response:</strong> Array of project objects
                                </div>
                            </div>

                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="background: #10b981; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">POST</span>
                                    <code style="font-size: 1.1em;">/projects/</code>
                                    <span style="background: #fee2e2; color: #991b1b; padding: 3px 10px; border-radius: 4px; font-size: 0.85em;">ğŸ‘” Manager Only</span>
                                </div>
                                <div style="margin-left: 20px; margin-top: 10px;">
                                    <strong>Description:</strong> Create new project<br>
                                    <strong>Request Body:</strong>
                                    <pre style="background: white; padding: 10px; border-radius: 6px; margin-top: 5px; font-size: 0.85em;">{
  "name": "Website Redesign",
  "description": "Complete UI/UX overhaul",
  "start_date": "2025-11-15",
  "end_date": "2025-12-31",
  "members": [5, 7, 9]
}</pre>
                                </div>
                            </div>

                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="background: #3b82f6; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">GET</span>
                                    <code style="font-size: 1.1em;">/projects/:id/</code>
                                </div>
                                <div style="margin-left: 20px; margin-top: 10px;">
                                    <strong>Description:</strong> Get project details with tasks and members<br>
                                    <strong>Response includes:</strong> project info, tasks[], members[], activity[]
                                </div>
                            </div>

                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="background: #f59e0b; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">PUT</span>
                                    <code style="font-size: 1.1em;">/projects/:id/</code>
                                    <span style="background: #fee2e2; color: #991b1b; padding: 3px 10px; border-radius: 4px; font-size: 0.85em;">ğŸ‘” Manager Only</span>
                                </div>
                                <div style="margin-left: 20px; margin-top: 10px;">
                                    <strong>Description:</strong> Update project (full update)<br>
                                    <strong>Permissions:</strong> Only project manager can update
                                </div>
                            </div>

                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="background: #ef4444; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">DELETE</span>
                                    <code style="font-size: 1.1em;">/projects/:id/</code>
                                    <span style="background: #fee2e2; color: #991b1b; padding: 3px 10px; border-radius: 4px; font-size: 0.85em;">ğŸ‘” Manager Only</span>
                                </div>
                                <div style="margin-left: 20px; margin-top: 10px;">
                                    <strong>Description:</strong> Delete project (soft delete)<br>
                                    <strong>Response (204 No Content)</strong>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Task Endpoints -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 20px;">âœ… Task Management Endpoints</h4>
                        
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="background: #3b82f6; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">GET</span>
                                    <code style="font-size: 1.1em;">/tasks/</code>
                                </div>
                                <div style="margin-left: 20px; margin-top: 10px;">
                                    <strong>Description:</strong> List tasks (filtered by user role)<br>
                                    <strong>Query Params:</strong> ?project_id=5&status=pending&assigned_to=42<br>
                                    <strong>Manager:</strong> Sees all tasks in their projects<br>
                                    <strong>Member:</strong> Only sees assigned tasks
                                </div>
                            </div>

                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="background: #10b981; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">POST</span>
                                    <code style="font-size: 1.1em;">/tasks/</code>
                                    <span style="background: #fee2e2; color: #991b1b; padding: 3px 10px; border-radius: 4px; font-size: 0.85em;">ğŸ‘” Manager Only</span>
                                </div>
                                <div style="margin-left: 20px; margin-top: 10px;">
                                    <strong>Request Body:</strong>
                                    <pre style="background: white; padding: 10px; border-radius: 6px; margin-top: 5px; font-size: 0.85em;">{
  "project_id": 10,
  "title": "Implement login page",
  "description": "Create responsive login with validation",
  "assigned_to": 42,
  "priority": "high",
  "due_date": "2025-11-20"
}</pre>
                                </div>
                            </div>

                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="background: #f59e0b; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">PATCH</span>
                                    <code style="font-size: 1.1em;">/tasks/:id/</code>
                                </div>
                                <div style="margin-left: 20px; margin-top: 10px;">
                                    <strong>Description:</strong> Update task (partial update)<br>
                                    <strong>Common use:</strong> Change status, update progress<br>
                                    <strong>Example:</strong> <code>{ "status": "in_progress" }</code>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- File Upload Endpoints -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #8b5cf6;">
                        <h4 style="color: #8b5cf6; margin-bottom: 20px;">ğŸ“ File & Attachment Endpoints</h4>
                        
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <span style="background: #10b981; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">POST</span>
                                <code style="font-size: 1.1em;">/attachments/</code>
                            </div>
                            <div style="margin-left: 20px; margin-top: 10px;">
                                <strong>Description:</strong> Upload task attachment/proof<br>
                                <strong>Content-Type:</strong> multipart/form-data<br>
                                <strong>Form Fields:</strong> task_id, file, description<br>
                                <strong>Max Size:</strong> 10MB per file
                            </div>
                        </div>

                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <span style="background: #3b82f6; color: white; padding: 5px 15px; border-radius: 6px; font-weight: bold; font-family: monospace;">GET</span>
                                <code style="font-size: 1.1em;">/attachments/by_task/?task_id=:id</code>
                            </div>
                            <div style="margin-left: 20px; margin-top: 10px;">
                                <strong>Description:</strong> Get all attachments for a task<br>
                                <strong>Response:</strong> Array of file URLs with metadata
                            </div>
                        </div>
                    </div>

                    <!-- HTTP Status Codes -->
                    <div style="background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">ğŸ“‹ HTTP Status Codes</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                            <div style="background: #d1fae5; padding: 12px; border-radius: 8px; border-left: 4px solid #10b981;">
                                <strong style="color: #065f46;">200 OK</strong> - Success<br>
                                <strong style="color: #065f46;">201 Created</strong> - Resource created<br>
                                <strong style="color: #065f46;">204 No Content</strong> - Deleted
                            </div>
                            <div style="background: #fef3c7; padding: 12px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                                <strong style="color: #92400e;">400 Bad Request</strong> - Validation error<br>
                                <strong style="color: #92400e;">401 Unauthorized</strong> - Invalid token<br>
                                <strong style="color: #92400e;">403 Forbidden</strong> - No permission
                            </div>
                            <div style="background: #fee2e2; padding: 12px; border-radius: 8px; border-left: 4px solid #ef4444;">
                                <strong style="color: #991b1b;">404 Not Found</strong> - Resource missing<br>
                                <strong style="color: #991b1b;">500 Server Error</strong> - Internal error
                            </div>
                        </div>
                    </div>

                    <!-- API Headers -->
                    <div style="margin-top: 20px; background: #e0e7ff; padding: 20px; border-radius: 10px; border: 2px solid #6366f1;">
                        <h4 style="color: #6366f1; margin-bottom: 10px;">ğŸ“¨ Required Headers:</h4>
                        <div style="font-family: monospace; background: white; padding: 15px; border-radius: 6px; font-size: 0.9em;">
                            Authorization: Bearer &lt;JWT_TOKEN&gt;<br>
                            Content-Type: application/json<br>
                            Accept: application/json
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Database Schema Details Section -->
        <div class="diagram-section" id="dbSchema">
            <div class="section-header">
                <div class="section-title">ğŸ’¾ Database Schema Details</div>
                <div class="section-description">PostgreSQL Optimization - Indexes, constraints, and performance</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Database Design & Optimization - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- User Table Details -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #8b5cf6;">
                        <h4 style="color: #8b5cf6; margin-bottom: 20px;">ğŸ‘¤ accounts_user Table</h4>
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #f8f9fa;">
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Column</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Type</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Constraints</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Index</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>id</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">SERIAL</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">PRIMARY KEY</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… B-Tree (auto)</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>email</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">VARCHAR(255)</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">UNIQUE, NOT NULL</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… Unique Index</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>password</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">VARCHAR(128)</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">NOT NULL</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">-</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>role</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">VARCHAR(20)</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">DEFAULT 'member'</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… B-Tree (filtering)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>is_active</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">BOOLEAN</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">DEFAULT TRUE</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… Partial Index</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>date_joined</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">TIMESTAMP</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">DEFAULT NOW()</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">-</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Project Table Details -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 20px;">ğŸ“ projects_project Table</h4>
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #f8f9fa;">
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Column</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Type</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Constraints</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Index</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>id</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">SERIAL</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">PRIMARY KEY</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… B-Tree</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>manager_id</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">INTEGER</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">FOREIGN KEY (user.id)</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… B-Tree (FK)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>name</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">VARCHAR(200)</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">NOT NULL</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">-</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>status</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">VARCHAR(20)</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">DEFAULT 'active'</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… Composite (status, manager_id)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>created_at</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">TIMESTAMP</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">DEFAULT NOW()</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… Descending (recent first)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Task Table Details -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-bottom: 20px;">âœ… projects_task Table</h4>
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #f8f9fa;">
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Column</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Type</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Constraints</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Index Strategy</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>id</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">SERIAL</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">PRIMARY KEY</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">B-Tree (auto)</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>project_id</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">INTEGER</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">FK, ON DELETE CASCADE</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Composite (project_id, status)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>assigned_to_id</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">INTEGER</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">FK, NULLABLE</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Composite (assigned_to_id, status)</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>status</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">VARCHAR(20)</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">CHECK IN (pending, in_progress...)</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">B-Tree (common filter)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>due_date</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">DATE</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">NULLABLE</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Partial (WHERE due_date IS NOT NULL)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Performance Indexes -->
                    <div style="background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 15px;">âš¡ Performance Indexes</h4>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace; font-size: 0.9em;">
                            <div style="margin-bottom: 15px;">
                                <strong style="color: #8b5cf6;">CREATE INDEX idx_user_email ON accounts_user(email);</strong><br>
                                <span style="color: #666; font-size: 0.9em;">-- Fast login lookups</span>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <strong style="color: #f59e0b;">CREATE INDEX idx_project_manager_status ON projects_project(manager_id, status);</strong><br>
                                <span style="color: #666; font-size: 0.9em;">-- Dashboard query optimization</span>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <strong style="color: #3b82f6;">CREATE INDEX idx_task_assigned_status ON projects_task(assigned_to_id, status) WHERE status != 'completed';</strong><br>
                                <span style="color: #666; font-size: 0.9em;">-- Active tasks only (partial index)</span>
                            </div>
                            <div>
                                <strong style="color: #ef4444;">CREATE INDEX idx_security_events_user_time ON accounts_securityevent(user_id, timestamp DESC);</strong><br>
                                <span style="color: #666; font-size: 0.9em;">-- Audit log queries</span>
                            </div>
                        </div>
                    </div>

                    <!-- Constraints & Data Integrity -->
                    <div style="margin-top: 20px; background: #fef3c7; padding: 20px; border-radius: 10px; border: 2px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 10px;">ğŸ”’ Data Integrity Constraints:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>Foreign Keys:</strong> ON DELETE CASCADE for project â†’ task relationship</li>
                            <li><strong>Check Constraints:</strong> role IN ('manager', 'member', 'admin')</li>
                            <li><strong>Unique Constraints:</strong> email (case-insensitive)</li>
                            <li><strong>Not Null:</strong> email, password, project.name, task.title</li>
                            <li><strong>Default Values:</strong> status='pending', is_active=TRUE, created_at=NOW()</li>
                        </ul>
                    </div>

                    <!-- Query Optimization Tips -->
                    <div style="margin-top: 20px; background: #d1fae5; padding: 20px; border-radius: 10px; border: 2px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 10px;">ğŸš€ Query Optimization:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>Select Related:</strong> Django ORM uses JOIN to fetch related objects in 1 query</li>
                            <li><strong>Prefetch Related:</strong> Optimizes M2M queries (project.members)</li>
                            <li><strong>Database Pooling:</strong> PostgreSQL connection pool (max 20 connections)</li>
                            <li><strong>Query Result Caching:</strong> Redis caches frequent queries for 5 minutes</li>
                            <li><strong>Pagination:</strong> LIMIT/OFFSET for large result sets (50 items/page)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Caching Strategy Section -->
        <div class="diagram-section" id="cacheStrategy">
            <div class="section-header">
                <div class="section-title">ğŸ”„ Caching Strategy</div>
                <div class="section-description">Redis Cache - Performance optimization and data flow</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Caching Architecture - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Cache Flow Diagram -->
                    <div style="text-align: center; margin-bottom: 30px;">
                        <div style="background: linear-gradient(135deg, #ef4444, #dc2626); color: white; padding: 20px; border-radius: 12px;">
                            <h3 style="color: white;">ğŸ”´ Redis 7 Cache Server</h3>
                            <p style="font-size: 0.9em; margin-top: 10px;">Port: 6379 | In-Memory Data Store | TTL-based Expiration</p>
                        </div>
                    </div>

                    <!-- Request Flow with Cache -->
                    <div class="flow-step" style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; max-width: 600px;">
                        <h4 style="color: white;">1ï¸âƒ£ Client Request</h4>
                        <div style="background: rgba(255, 255, 255, 0.2); padding: 10px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em;">
                            GET /api/projects/42/
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #ef4444; background: #fee2e2; max-width: 600px;">
                        <h4 style="color: #ef4444;">2ï¸âƒ£ Check Redis Cache</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            cache_key = f"project:{project_id}"<br>
                            cached_data = redis.get(cache_key)
                        </div>
                    </div>

                    <!-- Cache Hit vs Miss -->
                    <div style="background: #fef3c7; border: 3px solid #f59e0b; border-radius: 10px; padding: 20px; margin: 30px auto; max-width: 600px;">
                        <h4 style="color: #f59e0b; text-align: center; margin-bottom: 15px;">âš–ï¸ DECISION POINT</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div style="background: #10b981; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>âœ… CACHE HIT</strong><br>
                                <small>Data found in Redis</small>
                            </div>
                            <div style="background: #ef4444; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>âŒ CACHE MISS</strong><br>
                                <small>Data not in cache</small>
                            </div>
                        </div>
                    </div>

                    <!-- Cache Hit Path -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px;">
                        <div class="flow-step" style="background: #d1fae5; border-color: #10b981; border-width: 3px;">
                            <h4 style="color: #10b981;">âœ… CACHE HIT Path</h4>
                            <div style="font-size: 0.9em; margin-top: 10px; color: #065f46; text-align: left;">
                                <strong>Step 3a: Return Cached Data</strong><br><br>
                                â€¢ Deserialize JSON from Redis<br>
                                â€¢ No database query needed<br>
                                â€¢ Response time: ~5-10ms<br>
                                â€¢ Return to client immediately<br>
                                <br>
                                <strong style="color: #10b981;">ğŸš€ Performance Gain: 90%</strong>
                            </div>
                        </div>

                        <div class="flow-step" style="background: #fee2e2; border-color: #ef4444; border-width: 3px;">
                            <h4 style="color: #ef4444;">âŒ CACHE MISS Path</h4>
                            <div style="font-size: 0.9em; margin-top: 10px; color: #991b1b; text-align: left;">
                                <strong>Step 3b: Query Database</strong><br><br>
                                â€¢ Execute PostgreSQL query<br>
                                â€¢ Fetch related data (JOINs)<br>
                                â€¢ Serialize to JSON<br>
                                â€¢ Response time: ~50-100ms<br>
                                <br>
                                <strong>Step 4: Store in Cache</strong><br>
                                redis.setex(cache_key, 300, data)<br>
                                <small>(TTL: 5 minutes)</small>
                            </div>
                        </div>
                    </div>

                    <!-- What Gets Cached -->
                    <div style="margin-top: 40px; background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 20px;">ğŸ“¦ Cached Data Types</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #3b82f6;">ğŸ”¹ Project Details</strong><br>
                                <small>Key:</small> <code>project:{id}</code><br>
                                <small>TTL:</small> 5 minutes<br>
                                <small>Invalidated on:</small> Update/Delete
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #10b981;">ğŸ”¹ User Sessions</strong><br>
                                <small>Key:</small> <code>session:{token}</code><br>
                                <small>TTL:</small> 24 hours<br>
                                <small>Invalidated on:</small> Logout
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #f59e0b;">ğŸ”¹ Task Lists</strong><br>
                                <small>Key:</small> <code>tasks:user:{id}</code><br>
                                <small>TTL:</small> 2 minutes<br>
                                <small>Invalidated on:</small> Status change
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #8b5cf6;">ğŸ”¹ Statistics</strong><br>
                                <small>Key:</small> <code>stats:project:{id}</code><br>
                                <small>TTL:</small> 10 minutes<br>
                                <small>Invalidated on:</small> Task completion
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #ef4444;">ğŸ”¹ Rate Limiting</strong><br>
                                <small>Key:</small> <code>rate:{ip}:{endpoint}</code><br>
                                <small>TTL:</small> 1 minute<br>
                                <small>Counter-based</small>
                            </div>
                        </div>
                    </div>

                    <!-- Cache Invalidation Strategies -->
                    <div style="margin-top: 20px; background: #fffbeb; padding: 20px; border-radius: 10px; border: 2px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 10px;">ğŸ”„ Cache Invalidation Strategies:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>TTL-based:</strong> Auto-expire after set duration (default strategy)</li>
                            <li><strong>Event-driven:</strong> Delete on UPDATE/DELETE operations (Django signals)</li>
                            <li><strong>Pattern-based:</strong> Clear all related keys (e.g., all tasks for a project)</li>
                            <li><strong>LRU Eviction:</strong> Redis automatically removes least recently used items when memory full</li>
                        </ul>
                    </div>

                    <!-- Cache Performance Metrics -->
                    <div style="margin-top: 20px; background: #d1fae5; padding: 20px; border-radius: 10px; border: 2px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 15px;">ğŸ“Š Cache Performance:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #10b981;">85%</div>
                                <div style="color: #666; font-size: 0.9em;">Hit Rate</div>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #3b82f6;">~5ms</div>
                                <div style="color: #666; font-size: 0.9em;">Avg Retrieval</div>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #f59e0b;">256MB</div>
                                <div style="color: #666; font-size: 0.9em;">Memory Usage</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Metrics Section -->
        <div class="diagram-section" id="performance">
            <div class="section-header">
                <div class="section-title">ğŸ“ˆ Performance Metrics</div>
                <div class="section-description">System Benchmarks - Load times, throughput, and scalability</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Performance Analysis - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Response Time Metrics -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 20px;">âš¡ API Response Times</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div style="background: #d1fae5; padding: 20px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2.5em; color: #10b981; font-weight: bold;">45ms</div>
                                <div style="color: #065f46; margin-top: 5px; font-weight: 600;">GET /projects/</div>
                                <small style="color: #666;">With cache hit</small>
                            </div>
                            <div style="background: #dbeafe; padding: 20px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2.5em; color: #3b82f6; font-weight: bold;">120ms</div>
                                <div style="color: #1e3a8a; margin-top: 5px; font-weight: 600;">GET /tasks/</div>
                                <small style="color: #666;">Database query</small>
                            </div>
                            <div style="background: #fffbeb; padding: 20px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2.5em; color: #f59e0b; font-weight: bold;">85ms</div>
                                <div style="color: #92400e; margin-top: 5px; font-weight: 600;">POST /tasks/</div>
                                <small style="color: #666;">Create new task</small>
                            </div>
                            <div style="background: #ede9fe; padding: 20px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2.5em; color: #8b5cf6; font-weight: bold;">35ms</div>
                                <div style="color: #5b21b6; margin-top: 5px; font-weight: 600;">PATCH /tasks/:id</div>
                                <small style="color: #666;">Update status</small>
                            </div>
                        </div>
                    </div>

                    <!-- Database Performance -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-bottom: 20px;">ğŸ—„ï¸ Database Query Performance</h4>
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #f8f9fa;">
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Query Type</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Avg Time</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Index Used</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Optimization</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">SELECT user by email</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong style="color: #10b981;">12ms</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… Unique index</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Index scan</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">SELECT projects by manager</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong style="color: #10b981;">25ms</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… Composite index</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Index + filter</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">SELECT tasks with JOINs</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong style="color: #f59e0b;">55ms</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ… FK indexes</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">select_related</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">INSERT new task</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong style="color: #10b981;">18ms</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">-</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Direct insert</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Frontend Load Times -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #8b5cf6;">
                        <h4 style="color: #8b5cf6; margin-bottom: 20px;">ğŸ¨ Frontend Performance</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px;">
                            <div style="background: #ede9fe; padding: 15px; border-radius: 8px;">
                                <strong style="color: #5b21b6;">First Contentful Paint (FCP)</strong><br>
                                <div style="font-size: 1.8em; color: #8b5cf6; margin: 10px 0;">1.2s</div>
                                <small style="color: #666;">Initial render time</small>
                            </div>
                            <div style="background: #ede9fe; padding: 15px; border-radius: 8px;">
                                <strong style="color: #5b21b6;">Time to Interactive (TTI)</strong><br>
                                <div style="font-size: 1.8em; color: #8b5cf6; margin: 10px 0;">2.1s</div>
                                <small style="color: #666;">Fully interactive</small>
                            </div>
                            <div style="background: #ede9fe; padding: 15px; border-radius: 8px;">
                                <strong style="color: #5b21b6;">Bundle Size (gzipped)</strong><br>
                                <div style="font-size: 1.8em; color: #8b5cf6; margin: 10px 0;">245KB</div>
                                <small style="color: #666;">Production build</small>
                            </div>
                        </div>
                    </div>

                    <!-- Throughput & Concurrent Users -->
                    <div style="background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 20px;">ğŸš€ Throughput & Scalability</h4>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; text-align: center;">
                                <div>
                                    <div style="font-size: 2.5em; color: #f59e0b; font-weight: bold;">500</div>
                                    <div style="color: #666; margin-top: 5px;">Concurrent Users</div>
                                    <small style="color: #999;">Without degradation</small>
                                </div>
                                <div>
                                    <div style="font-size: 2.5em; color: #f59e0b; font-weight: bold;">1,200</div>
                                    <div style="color: #666; margin-top: 5px;">Requests/Second</div>
                                    <small style="color: #999;">Peak throughput</small>
                                </div>
                                <div>
                                    <div style="font-size: 2.5em; color: #f59e0b; font-weight: bold;">99.8%</div>
                                    <div style="color: #666; margin-top: 5px;">Uptime</div>
                                    <small style="color: #999;">Last 30 days</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Resource Usage -->
                    <div style="margin-top: 20px; background: #e0e7ff; padding: 20px; border-radius: 10px; border: 2px solid #6366f1;">
                        <h4 style="color: #6366f1; margin-bottom: 15px;">ğŸ’» Server Resource Usage (Production):</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div style="background: white; padding: 15px; border-radius: 8px;">
                                <strong>ğŸ Django Backend</strong><br>
                                CPU: 12% avg | RAM: 450MB
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px;">
                                <strong>ğŸ˜ PostgreSQL</strong><br>
                                CPU: 8% avg | RAM: 512MB
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px;">
                                <strong>ğŸ”´ Redis</strong><br>
                                CPU: 3% avg | RAM: 256MB
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px;">
                                <strong>ğŸŒ Nginx</strong><br>
                                CPU: 5% avg | RAM: 64MB
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- System Comparison Section -->
        <div class="diagram-section" id="comparison">
            <div class="section-header">
                <div class="section-title">ğŸ“Š Before vs After Comparison</div>
                <div class="section-description">System Impact - Improvements after implementing SynergyOS</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">System Evolution - Manual to Automated</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                        <!-- Before Column -->
                        <div style="background: #fee2e2; padding: 25px; border-radius: 10px; border: 3px solid #ef4444;">
                            <h3 style="color: #ef4444; text-align: center; margin-bottom: 20px;">âŒ BEFORE - Manual System</h3>
                            
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                <strong style="color: #ef4444;">Project Management</strong><br>
                                â€¢ Email chains for assignments<br>
                                â€¢ Excel sheets for tracking<br>
                                â€¢ No real-time updates<br>
                                â€¢ Manual status reports<br>
                                â€¢ Lost email threads
                            </div>

                            <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                <strong style="color: #ef4444;">Communication</strong><br>
                                â€¢ Scattered across email/chat<br>
                                â€¢ No centralized history<br>
                                â€¢ Missed messages<br>
                                â€¢ Delays in responses
                            </div>

                            <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                <strong style="color: #ef4444;">Performance</strong><br>
                                â€¢ Manual data entry<br>
                                â€¢ No analytics<br>
                                â€¢ Delayed reporting<br>
                                â€¢ Human errors
                            </div>

                            <div style="background: white; padding: 15px; border-radius: 8px;">
                                <strong style="color: #ef4444;">Metrics</strong><br>
                                <div style="margin-top: 10px;">
                                    ğŸ“‰ Task completion: 65%<br>
                                    â±ï¸ Avg delay: 3-5 days<br>
                                    ğŸ‘¥ Manager time: 4hrs/day<br>
                                    ğŸ› Error rate: 15%
                                </div>
                            </div>
                        </div>

                        <!-- After Column -->
                        <div style="background: #d1fae5; padding: 25px; border-radius: 10px; border: 3px solid #10b981;">
                            <h3 style="color: #10b981; text-align: center; margin-bottom: 20px;">âœ… AFTER - SynergyOS</h3>
                            
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                <strong style="color: #10b981;">Project Management</strong><br>
                                â€¢ Centralized dashboard<br>
                                â€¢ Auto-notifications<br>
                                â€¢ Real-time status tracking<br>
                                â€¢ Automated reports<br>
                                â€¢ Complete audit trail
                            </div>

                            <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                <strong style="color: #10b981;">Communication</strong><br>
                                â€¢ In-app messaging<br>
                                â€¢ Linked to projects/tasks<br>
                                â€¢ Notification system<br>
                                â€¢ Instant updates
                            </div>

                            <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                <strong style="color: #10b981;">Performance</strong><br>
                                â€¢ Automated workflows<br>
                                â€¢ Real-time analytics<br>
                                â€¢ Instant reporting<br>
                                â€¢ Data validation
                            </div>

                            <div style="background: white; padding: 15px; border-radius: 8px;">
                                <strong style="color: #10b981;">Metrics</strong><br>
                                <div style="margin-top: 10px;">
                                    ğŸ“ˆ Task completion: 92%<br>
                                    âš¡ Avg delay: &lt;1 day<br>
                                    ğŸ‘¥ Manager time: 1hr/day<br>
                                    âœ… Error rate: 2%
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Improvement Stats -->
                    <div style="margin-top: 30px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 30px; border-radius: 12px; text-align: center;">
                        <h3 style="color: white; margin-bottom: 20px;">ğŸ“Š Key Improvements</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px;">
                            <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 8px;">
                                <div style="font-size: 2.5em;">+41%</div>
                                <div>Task Completion</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 8px;">
                                <div style="font-size: 2.5em;">-75%</div>
                                <div>Manager Time</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 8px;">
                                <div style="font-size: 2.5em;">-80%</div>
                                <div>Task Delays</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 8px;">
                                <div style="font-size: 2.5em;">-87%</div>
                                <div>Error Rate</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Technology Stack Rationale Section -->
        <div class="diagram-section" id="techStack">
            <div class="section-header">
                <div class="section-title">ğŸ”§ Technology Stack Rationale</div>
                <div class="section-description">Design Decisions - Why each technology was chosen</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Technology Selection Analysis - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Django Backend -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 15px;">ğŸ Django 5.2.7 (Backend Framework)</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <strong style="color: #10b981;">âœ… Pros:</strong>
                                <ul style="margin-top: 10px; line-height: 2;">
                                    <li>Built-in admin panel</li>
                                    <li>Powerful ORM</li>
                                    <li>Excellent security features</li>
                                    <li>Django REST Framework integration</li>
                                    <li>Large community & packages</li>
                                    <li>Rapid development</li>
                                </ul>
                            </div>
                            <div>
                                <strong style="color: #ef4444;">âš ï¸ Cons:</strong>
                                <ul style="margin-top: 10px; line-height: 2;">
                                    <li>Monolithic structure</li>
                                    <li>Learning curve for beginners</li>
                                    <li>Heavier than microframeworks</li>
                                </ul>
                                <div style="margin-top: 15px; background: #d1fae5; padding: 12px; border-radius: 6px;">
                                    <strong>Why chosen:</strong> Best for rapid MVP, security focus, admin tools needed
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- React Frontend -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-bottom: 15px;">âš›ï¸ React Router v7 (Frontend Framework)</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <strong style="color: #10b981;">âœ… Pros:</strong>
                                <ul style="margin-top: 10px; line-height: 2;">
                                    <li>Component reusability</li>
                                    <li>Virtual DOM performance</li>
                                    <li>Large ecosystem</li>
                                    <li>TypeScript support</li>
                                    <li>SEO-friendly with SSR</li>
                                    <li>React Router v7 file-based routing</li>
                                </ul>
                            </div>
                            <div>
                                <strong style="color: #ef4444;">âš ï¸ Cons:</strong>
                                <ul style="margin-top: 10px; line-height: 2;">
                                    <li>Build complexity</li>
                                    <li>Bundle size considerations</li>
                                    <li>Rapid framework changes</li>
                                </ul>
                                <div style="margin-top: 15px; background: #dbeafe; padding: 12px; border-radius: 6px;">
                                    <strong>Why chosen:</strong> Modern SPA, component architecture, team expertise
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- PostgreSQL -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #8b5cf6;">
                        <h4 style="color: #8b5cf6; margin-bottom: 15px;">ğŸ˜ PostgreSQL 16 (Database)</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <strong style="color: #10b981;">âœ… Pros:</strong>
                                <ul style="margin-top: 10px; line-height: 2;">
                                    <li>ACID compliance</li>
                                    <li>Advanced features (JSONB, full-text search)</li>
                                    <li>Excellent performance</li>
                                    <li>Django ORM compatibility</li>
                                    <li>Free & open-source</li>
                                    <li>Strong data integrity</li>
                                </ul>
                            </div>
                            <div>
                                <strong style="color: #ef4444;">âš ï¸ Cons:</strong>
                                <ul style="margin-top: 10px; line-height: 2;">
                                    <li>More complex than MySQL</li>
                                    <li>Higher resource usage</li>
                                </ul>
                                <div style="margin-top: 15px; background: #ede9fe; padding: 12px; border-radius: 6px;">
                                    <strong>Why chosen:</strong> Relational data model, advanced features, production-ready
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Redis -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #ef4444;">
                        <h4 style="color: #ef4444; margin-bottom: 15px;">ğŸ”´ Redis 7 (Cache & Message Broker)</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <strong style="color: #10b981;">âœ… Pros:</strong>
                                <ul style="margin-top: 10px; line-height: 2;">
                                    <li>Extremely fast (in-memory)</li>
                                    <li>Multiple data structures</li>
                                    <li>TTL support</li>
                                    <li>Pub/Sub capabilities</li>
                                    <li>Celery broker compatibility</li>
                                </ul>
                            </div>
                            <div>
                                <strong style="color: #ef4444;">âš ï¸ Cons:</strong>
                                <ul style="margin-top: 10px; line-height: 2;">
                                    <li>Memory-limited</li>
                                    <li>Single-threaded</li>
                                    <li>Volatile storage</li>
                                </ul>
                                <div style="margin-top: 15px; background: #fee2e2; padding: 12px; border-radius: 6px;">
                                    <strong>Why chosen:</strong> Performance optimization, session management, background tasks
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Docker -->
                    <div style="background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-bottom: 15px;">ğŸ³ Docker & Docker Compose (Deployment)</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <strong style="color: #10b981;">âœ… Pros:</strong>
                                <ul style="margin-top: 10px; line-height: 2;">
                                    <li>Environment consistency</li>
                                    <li>Easy scaling</li>
                                    <li>Isolated services</li>
                                    <li>Simple deployment</li>
                                    <li>Version control for infrastructure</li>
                                </ul>
                            </div>
                            <div>
                                <strong style="color: #ef4444;">âš ï¸ Cons:</strong>
                                <ul style="margin-top: 10px; line-height: 2;">
                                    <li>Resource overhead</li>
                                    <li>Learning curve</li>
                                    <li>Debugging complexity</li>
                                </ul>
                                <div style="margin-top: 15px; background: #dbeafe; padding: 12px; border-radius: 6px;">
                                    <strong>Why chosen:</strong> Dev-prod parity, easy scaling, team collaboration
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Alternatives Considered -->
                    <div style="margin-top: 20px; background: #fffbeb; padding: 20px; border-radius: 10px; border: 2px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 10px;">ğŸ¤” Alternatives Considered:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>Node.js + Express:</strong> Rejected - Team more experienced with Python</li>
                            <li><strong>Vue.js/Angular:</strong> Rejected - React's larger ecosystem preferred</li>
                            <li><strong>MySQL:</strong> Rejected - PostgreSQL's advanced features needed</li>
                            <li><strong>MongoDB:</strong> Rejected - Relational data model better fit</li>
                            <li><strong>Kubernetes:</strong> Deferred - Overkill for current scale, Docker Compose sufficient</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scalability Analysis Section -->
        <div class="diagram-section" id="scalability">
            <div class="section-header">
                <div class="section-title">âš¡ Scalability Analysis</div>
                <div class="section-description">Growth Strategy - Horizontal scaling and load balancing</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Scalability Architecture - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Current vs Scaled Architecture -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">
                        <div style="background: #dbeafe; padding: 20px; border-radius: 10px; border: 3px solid #3b82f6;">
                            <h4 style="color: #3b82f6; text-align: center; margin-bottom: 15px;">ğŸ“Œ Current Setup</h4>
                            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #3b82f6;">1x</div>
                                <div style="margin-top: 5px;">Backend Instance</div>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; text-align: center;">
                                <div style="font-size: 2em; color: #3b82f6;">1x</div>
                                <div style="margin-top: 5px;">Database Server</div>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; text-align: center;">
                                <div style="font-size: 1.5em; color: #666;">~500 users</div>
                            </div>
                        </div>

                        <div style="background: #d1fae5; padding: 20px; border-radius: 10px; border: 3px solid #10b981;">
                            <h4 style="color: #10b981; text-align: center; margin-bottom: 15px;">ğŸš€ Scaled Setup</h4>
                            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #10b981;">3x+</div>
                                <div style="margin-top: 5px;">Backend Instances (Load Balanced)</div>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; text-align: center;">
                                <div style="font-size: 2em; color: #10b981;">1x Master + 2x Replicas</div>
                                <div style="margin-top: 5px;">Database Cluster</div>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; text-align: center;">
                                <div style="font-size: 1.5em; color: #666;">~5,000+ users</div>
                            </div>
                        </div>
                    </div>

                    <!-- Horizontal Scaling Strategy -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 20px;">ğŸ“ˆ Horizontal Scaling Strategy</h4>
                        
                        <div class="architecture-layer" style="border-color: #f59e0b;">
                            <div class="layer-title" style="color: #f59e0b;">ğŸŒ Load Balancer (Nginx)</div>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px;">
                                <strong>Algorithm:</strong> Round-robin with health checks<br>
                                <strong>SSL Termination:</strong> Single point for certificates<br>
                                <strong>Sticky Sessions:</strong> IP-based affinity (if needed)<br>
                                <strong>Failover:</strong> Auto-redirect on instance failure
                            </div>
                        </div>

                        <div class="connection-arrow">â¬‡ï¸ Distributes to</div>

                        <div class="architecture-layer" style="border-color: #10b981;">
                            <div class="layer-title" style="color: #10b981;">ğŸ Backend Instances (Django)</div>
                            <div class="diagram-grid" style="margin-top: 10px;">
                                <div class="component" style="background: #d1fae5; border: 2px solid #10b981;">
                                    Backend-1 (Primary)<br>
                                    <small>Port: 8000</small>
                                </div>
                                <div class="component" style="background: #d1fae5; border: 2px solid #10b981;">
                                    Backend-2 (Replica)<br>
                                    <small>Port: 8001</small>
                                </div>
                                <div class="component" style="background: #d1fae5; border: 2px solid #10b981;">
                                    Backend-3 (Replica)<br>
                                    <small>Port: 8002</small>
                                </div>
                                <div class="component" style="background: #e0e7ff; border: 2px dashed #6366f1;">
                                    Backend-N (Auto-scale)<br>
                                    <small>Add as needed</small>
                                </div>
                            </div>
                        </div>

                        <div class="connection-arrow">â¬‡ï¸ Read/Write</div>

                        <div class="architecture-layer" style="border-color: #8b5cf6;">
                            <div class="layer-title" style="color: #8b5cf6;">ğŸ—„ï¸ Database Cluster</div>
                            <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 15px; margin-top: 10px;">
                                <div style="background: #ede9fe; padding: 15px; border-radius: 8px; border: 3px solid #8b5cf6;">
                                    <strong style="color: #8b5cf6;">Master</strong><br>
                                    Writes + Reads
                                </div>
                                <div style="background: #f3f4f6; padding: 15px; border-radius: 8px; border: 2px solid #8b5cf6;">
                                    <strong style="color: #8b5cf6;">Read Replicas</strong><br>
                                    Read-only (async replication)
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Auto-Scaling Triggers -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 15px;">âš™ï¸ Auto-Scaling Triggers:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                            <div style="background: #fffbeb; padding: 15px; border-radius: 8px;">
                                <strong>CPU Usage</strong><br>
                                <div style="margin-top: 10px;">
                                    â€¢ Scale up: >70% for 5 min<br>
                                    â€¢ Scale down: <30% for 10 min
                                </div>
                            </div>
                            <div style="background: #fffbeb; padding: 15px; border-radius: 8px;">
                                <strong>Memory Usage</strong><br>
                                <div style="margin-top: 10px;">
                                    â€¢ Scale up: >80%<br>
                                    â€¢ Alert at: 90%
                                </div>
                            </div>
                            <div style="background: #fffbeb; padding: 15px; border-radius: 8px;">
                                <strong>Request Queue</strong><br>
                                <div style="margin-top: 10px;">
                                    â€¢ Scale up: >100 pending<br>
                                    â€¢ Response time: >500ms
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Database Scaling -->
                    <div style="background: #e0e7ff; padding: 20px; border-radius: 10px; border: 2px solid #6366f1;">
                        <h4 style="color: #6366f1; margin-bottom: 10px;">ğŸ”„ Database Scaling Strategies:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>Read Replicas:</strong> Offload SELECT queries to replicas (Django read/write DB routing)</li>
                            <li><strong>Connection Pooling:</strong> PgBouncer manages 1000+ connections efficiently</li>
                            <li><strong>Partitioning:</strong> Horizontal table partitioning by date (task history)</li>
                            <li><strong>Caching:</strong> Redis reduces DB load by 85%</li>
                            <li><strong>Query Optimization:</strong> Indexes, EXPLAIN ANALYZE for slow queries</li>
                        </ul>
                    </div>

                    <!-- Growth Projections -->
                    <div style="margin-top: 20px; background: #d1fae5; padding: 20px; border-radius: 10px; border: 2px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 15px;">ğŸ“Š Growth Capacity:</h4>
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #f8f9fa;">
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Scale Level</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Backend Instances</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">DB Setup</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Concurrent Users</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>Small</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">1x</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Single instance</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">~500</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>Medium</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">3x</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Master + 1 replica</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">~2,000</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>Large</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">5x</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Master + 2 replicas</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">~5,000</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;"><strong>Enterprise</strong></td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">10x+</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Sharded cluster</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">10,000+</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Testing Architecture Section -->
        <div class="diagram-section" id="testing">
            <div class="section-header">
                <div class="section-title">ğŸ”¬ Testing Architecture</div>
                <div class="section-description">Quality Assurance - Unit, integration, and E2E testing strategy</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Testing Strategy - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Testing Pyramid -->
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h4 style="color: #667eea; margin-bottom: 20px;">ğŸ”º Testing Pyramid</h4>
                        <div style="max-width: 600px; margin: 0 auto;">
                            <div style="background: #fee2e2; border: 3px solid #ef4444; border-radius: 10px 10px 0 0; padding: 20px; margin: 2px auto; width: 90%;">
                                <strong style="color: #ef4444;">E2E Tests (10%)</strong><br>
                                <small>User workflows, slow, expensive</small>
                            </div>
                            <div style="background: #fffbeb; border: 3px solid #f59e0b; padding: 25px; margin: 2px auto; width: 95%;">
                                <strong style="color: #f59e0b;">Integration Tests (30%)</strong><br>
                                <small>API endpoints, database interactions</small>
                            </div>
                            <div style="background: #d1fae5; border: 3px solid #10b981; border-radius: 0 0 10px 10px; padding: 30px; margin: 2px auto; width: 100%;">
                                <strong style="color: #10b981;">Unit Tests (60%)</strong><br>
                                <small>Functions, classes, fast, isolated</small>
                            </div>
                        </div>
                    </div>

                    <!-- Backend Testing -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 20px;">ğŸ Backend Testing (Django)</h4>
                        
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <strong style="color: #10b981;">âœ… Unit Tests (pytest)</strong>
                            <div style="margin-left: 20px; margin-top: 10px; font-family: monospace; font-size: 0.9em;">
                                <strong>Test Files:</strong><br>
                                â€¢ accounts/tests.py - User model, authentication<br>
                                â€¢ projects/tests.py - Project/Task models<br>
                                <br>
                                <strong>Coverage:</strong> 85%<br>
                                <strong>Examples:</strong><br>
                                <code style="background: white; padding: 2px 6px; border-radius: 4px;">
                                    test_user_registration_success()<br>
                                    test_password_hashing()<br>
                                    test_task_status_transitions()
                                </code>
                            </div>
                        </div>

                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <strong style="color: #f59e0b;">ğŸ”— Integration Tests (Django TestCase)</strong>
                            <div style="margin-left: 20px; margin-top: 10px; font-family: monospace; font-size: 0.9em;">
                                <strong>Test Scenarios:</strong><br>
                                â€¢ API endpoint responses<br>
                                â€¢ Database transactions<br>
                                â€¢ Authentication flows<br>
                                â€¢ Permission checks<br>
                                <br>
                                <strong>Examples:</strong><br>
                                <code style="background: white; padding: 2px 6px; border-radius: 4px;">
                                    test_create_project_api()<br>
                                    test_unauthorized_access_returns_403()<br>
                                    test_task_assignment_notification()
                                </code>
                            </div>
                        </div>

                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <strong style="color: #ef4444;">ğŸ­ E2E Tests (Selenium/Playwright)</strong>
                            <div style="margin-left: 20px; margin-top: 10px; font-family: monospace; font-size: 0.9em;">
                                <strong>User Flows:</strong><br>
                                â€¢ Complete registration â†’ login â†’ create project<br>
                                â€¢ Manager creates task â†’ Member completes â†’ Review<br>
                                â€¢ File upload â†’ Download verification<br>
                                <br>
                                <strong>Tools:</strong> Playwright for browser automation
                            </div>
                        </div>
                    </div>

                    <!-- Frontend Testing -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; border-left: 5px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-bottom: 20px;">âš›ï¸ Frontend Testing (React)</h4>
                        
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <strong style="color: #10b981;">âœ… Component Tests (Vitest + React Testing Library)</strong>
                            <div style="margin-left: 20px; margin-top: 10px; font-family: monospace; font-size: 0.9em;">
                                <strong>Test Files:</strong><br>
                                â€¢ components/__tests__/TaskModal.test.tsx<br>
                                â€¢ components/__tests__/Navbar.test.tsx<br>
                                <br>
                                <strong>Examples:</strong><br>
                                <code style="background: white; padding: 2px 6px; border-radius: 4px;">
                                    test('TaskModal renders correctly')<br>
                                    test('Form validation shows errors')<br>
                                    test('ProtectedRoute redirects if not authenticated')
                                </code>
                            </div>
                        </div>

                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <strong style="color: #f59e0b;">ğŸ”— Integration Tests (MSW for API mocking)</strong>
                            <div style="margin-left: 20px; margin-top: 10px; font-family: monospace; font-size: 0.9em;">
                                <strong>Mock Service Worker:</strong><br>
                                â€¢ Intercept API calls<br>
                                â€¢ Mock responses<br>
                                â€¢ Test error handling<br>
                                <br>
                                <strong>Examples:</strong><br>
                                <code style="background: white; padding: 2px 6px; border-radius: 4px;">
                                    test('Login success updates auth context')<br>
                                    test('Failed API call shows error toast')
                                </code>
                            </div>
                        </div>
                    </div>

                    <!-- CI/CD Testing -->
                    <div style="background: #e0e7ff; padding: 20px; border-radius: 10px; border: 2px solid #6366f1;">
                        <h4 style="color: #6366f1; margin-bottom: 10px;">ğŸ”„ CI/CD Testing Pipeline:</h4>
                        <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px;">
                            <div style="font-family: monospace; font-size: 0.9em;">
                                <strong>On Git Push:</strong><br>
                                1. Run linters (flake8, ESLint)<br>
                                2. Run unit tests (backend + frontend)<br>
                                3. Run integration tests<br>
                                4. Generate coverage report<br>
                                5. Build Docker images<br>
                                6. Deploy to staging (if tests pass)<br>
                                <br>
                                <strong>Minimum Coverage:</strong> 80% required to merge
                            </div>
                        </div>
                    </div>

                    <!-- Test Coverage Stats -->
                    <div style="margin-top: 20px; background: #d1fae5; padding: 20px; border-radius: 10px; border: 2px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 15px;">ğŸ“Š Current Coverage:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #10b981;">85%</div>
                                <div style="color: #666;">Backend</div>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #3b82f6;">78%</div>
                                <div style="color: #666;">Frontend</div>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2em; color: #f59e0b;">450+</div>
                                <div style="color: #666;">Total Tests</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Project Lifecycle Section -->
        <div class="diagram-section" id="projectLifecycle">
            <div class="section-header">
                <div class="section-title">ğŸ“… Project Lifecycle</div>
                <div class="section-description">Project States - From creation to completion and archival</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Project Management Workflow - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Project States -->
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h4 style="color: #667eea; margin-bottom: 20px;">ğŸ“Š Project Status States</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; max-width: 900px; margin: 0 auto;">
                            <div style="background: linear-gradient(135deg, #94a3b8, #64748b); color: white; padding: 15px; border-radius: 8px; font-weight: bold;">
                                PLANNING
                            </div>
                            <div style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; padding: 15px; border-radius: 8px; font-weight: bold;">
                                ACTIVE
                            </div>
                            <div style="background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 15px; border-radius: 8px; font-weight: bold;">
                                ON_HOLD
                            </div>
                            <div style="background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 15px; border-radius: 8px; font-weight: bold;">
                                COMPLETED
                            </div>
                            <div style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; padding: 15px; border-radius: 8px; font-weight: bold;">
                                ARCHIVED
                            </div>
                        </div>
                    </div>

                    <!-- Lifecycle Flow -->
                    <div class="flow-step" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; max-width: 600px;">
                        <h4 style="color: white;">ğŸ¬ START: Manager Creates Project</h4>
                        <div style="background: rgba(255, 255, 255, 0.2); padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.9em;">
                            POST /api/projects/<br>
                            Initial Status: <strong>PLANNING</strong><br>
                            Manager assigned<br>
                            Due dates set
                        </div>
                    </div>

                    <div class="flow-step" style="background: #e5e7eb; border-color: #94a3b8; max-width: 600px;">
                        <h4 style="color: #64748b;">ğŸ“ PLANNING State</h4>
                        <div style="font-size: 0.9em; margin-top: 10px;">
                            <strong>Project setup phase</strong><br><br>
                            <strong>Manager Actions:</strong><br>
                            â€¢ Add team members<br>
                            â€¢ Define project scope<br>
                            â€¢ Create initial tasks<br>
                            â€¢ Set milestones<br>
                            â€¢ Assign resources<br>
                            <br>
                            <strong>Transition:</strong> Manager clicks "Start Project" â†’
                        </div>
                    </div>

                    <div class="flow-step" style="background: #dbeafe; border-color: #3b82f6; max-width: 600px;">
                        <h4 style="color: #3b82f6;">ğŸš€ ACTIVE State</h4>
                        <div style="font-size: 0.9em; margin-top: 10px; color: #1e3a8a;">
                            <strong>Project in execution</strong><br><br>
                            <strong>Team Activities:</strong><br>
                            â€¢ Members work on assigned tasks<br>
                            â€¢ Daily progress updates<br>
                            â€¢ Task status changes tracked<br>
                            â€¢ Manager monitors dashboard<br>
                            â€¢ Automatic deadline reminders<br>
                            <br>
                            <strong>Key Metrics:</strong><br>
                            ğŸ“Š Progress: X% complete<br>
                            âœ… Tasks: Y completed / Z total<br>
                            â° Time: N days remaining
                        </div>
                    </div>

                    <!-- Decision Points -->
                    <div style="background: #fef3c7; border: 3px solid #f59e0b; border-radius: 10px; padding: 20px; margin: 30px auto; max-width: 600px;">
                        <h4 style="color: #f59e0b; text-align: center; margin-bottom: 15px;">âš–ï¸ ACTIVE STATE OPTIONS</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div style="background: #f59e0b; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>â¸ï¸ PAUSE</strong><br>
                                <small>Put project on hold</small>
                            </div>
                            <div style="background: #10b981; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>âœ… COMPLETE</strong><br>
                                <small>All tasks done</small>
                            </div>
                        </div>
                    </div>

                    <!-- On Hold State -->
                    <div class="flow-step" style="background: #fffbeb; border-color: #f59e0b; max-width: 600px;">
                        <h4 style="color: #f59e0b;">â¸ï¸ ON_HOLD State</h4>
                        <div style="font-size: 0.9em; margin-top: 10px; color: #92400e;">
                            <strong>Temporarily paused</strong><br><br>
                            <strong>Reasons:</strong><br>
                            â€¢ Waiting for resources<br>
                            â€¢ Client feedback needed<br>
                            â€¢ Budget approval pending<br>
                            â€¢ Dependency on another project<br>
                            <br>
                            <strong>Actions:</strong><br>
                            âœ… Can resume â†’ ACTIVE<br>
                            âœ… Can cancel â†’ ARCHIVED<br>
                            â¸ï¸ Tasks frozen (no updates allowed)
                        </div>
                    </div>

                    <!-- Completion Path -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px;">
                        <div class="flow-step" style="background: #d1fae5; border-color: #10b981; border-width: 3px;">
                            <h4 style="color: #10b981;">âœ… COMPLETED State</h4>
                            <div style="font-size: 0.9em; margin-top: 10px; color: #065f46;">
                                <strong>Project finished successfully</strong><br><br>
                                <strong>Completion Criteria:</strong><br>
                                âœ… All tasks completed<br>
                                âœ… Manager approval<br>
                                âœ… Client acceptance (if applicable)<br>
                                âœ… Final report generated<br>
                                <br>
                                <strong>Auto-Actions:</strong><br>
                                â€¢ Completion timestamp saved<br>
                                â€¢ Team performance calculated<br>
                                â€¢ Success metrics logged<br>
                                â€¢ Completion email sent<br>
                                <br>
                                <strong>Options:</strong><br>
                                â€¢ View final report<br>
                                â€¢ Archive project<br>
                                â€¢ Create similar project (template)
                            </div>
                        </div>

                        <div class="flow-step" style="background: #ede9fe; border-color: #8b5cf6; border-width: 3px;">
                            <h4 style="color: #8b5cf6;">ğŸ“¦ ARCHIVED State</h4>
                            <div style="font-size: 0.9em; margin-top: 10px; color: #5b21b6;">
                                <strong>Project moved to archive</strong><br><br>
                                <strong>Archived After:</strong><br>
                                â€¢ Completed for 30+ days<br>
                                â€¢ Manager manually archives<br>
                                â€¢ Cancelled projects<br>
                                <br>
                                <strong>Restrictions:</strong><br>
                                âŒ No edits allowed<br>
                                âŒ Not shown in active lists<br>
                                âœ… Read-only access<br>
                                âœ… Searchable in archive<br>
                                <br>
                                <strong>Data Retention:</strong><br>
                                â€¢ Kept for 2 years<br>
                                â€¢ Can restore within 90 days<br>
                                â€¢ Exportable as PDF/CSV
                            </div>
                        </div>
                    </div>

                    <!-- Project Metrics Dashboard -->
                    <div style="margin-top: 40px; background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">ğŸ“Š Project Health Indicators:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #10b981;">Progress %</strong><br>
                                <div style="margin-top: 5px; font-size: 0.9em;">
                                    Completed tasks / Total tasks Ã— 100
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #3b82f6;">Timeline Health</strong><br>
                                <div style="margin-top: 5px; font-size: 0.9em;">
                                    ğŸŸ¢ On track | ğŸŸ¡ At risk | ğŸ”´ Delayed
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #f59e0b;">Team Velocity</strong><br>
                                <div style="margin-top: 5px; font-size: 0.9em;">
                                    Tasks completed per week
                                </div>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #ef4444;">Blockers</strong><br>
                                <div style="margin-top: 5px; font-size: 0.9em;">
                                    Tasks stuck >3 days
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Notifications -->
                    <div style="margin-top: 20px; background: #e0e7ff; padding: 20px; border-radius: 10px; border: 2px solid #6366f1;">
                        <h4 style="color: #6366f1; margin-bottom: 10px;">ğŸ”” Automatic Notifications:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>Project Created:</strong> Email to all assigned members</li>
                            <li><strong>Status Changed:</strong> Team notification</li>
                            <li><strong>Deadline Approaching:</strong> Reminder 7 days, 3 days, 1 day before</li>
                            <li><strong>Milestone Achieved:</strong> Celebration message</li>
                            <li><strong>Project Completed:</strong> Summary report to stakeholders</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notification System Section -->
        <div class="diagram-section" id="notifications">
            <div class="section-header">
                <div class="section-title">ğŸ”” Notification System</div>
                <div class="section-description">Alert Pipeline - Email, in-app, and real-time notifications</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">Notification Architecture - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Notification Types -->
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h4 style="color: #667eea; margin-bottom: 20px;">ğŸ“¬ Notification Channels</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; max-width: 800px; margin: 0 auto;">
                            <div style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; padding: 20px; border-radius: 10px;">
                                <div style="font-size: 2.5em;">ğŸ“§</div>
                                <strong>Email</strong><br>
                                <small>External notifications</small>
                            </div>
                            <div style="background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 20px; border-radius: 10px;">
                                <div style="font-size: 2.5em;">ğŸ””</div>
                                <strong>In-App</strong><br>
                                <small>Dashboard alerts</small>
                            </div>
                            <div style="background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 20px; border-radius: 10px;">
                                <div style="font-size: 2.5em;">âš¡</div>
                                <strong>Real-Time</strong><br>
                                <small>Instant updates (WebSocket)</small>
                            </div>
                        </div>
                    </div>

                    <!-- Notification Flow -->
                    <div class="flow-step" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; max-width: 600px;">
                        <h4 style="color: white;">âš¡ TRIGGER: System Event Occurs</h4>
                        <div style="background: rgba(255, 255, 255, 0.2); padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.9em;">
                            Examples:<br>
                            â€¢ Task assigned to user<br>
                            â€¢ Project deadline approaching<br>
                            â€¢ Task status changed<br>
                            â€¢ Comment added<br>
                            â€¢ File uploaded
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #8b5cf6; background: #ede9fe; max-width: 600px;">
                        <h4 style="color: #8b5cf6;">ğŸ¯ Django Signal Triggered</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            @receiver(post_save, sender=Task)<br>
                            def task_assigned_notification(sender, instance, created, **kwargs):<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;if created and instance.assigned_to:<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send_notification.delay(<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_id=instance.assigned_to.id,<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type='task_assigned',<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task=instance<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #ec4899; background: #fce7f3; max-width: 600px;">
                        <h4 style="color: #ec4899;">âš¡ Celery Task Queued</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-size: 0.9em; text-align: left; color: #333;">
                            <strong>Async Processing:</strong><br>
                            â€¢ Task added to Redis queue<br>
                            â€¢ Celery worker picks it up<br>
                            â€¢ Non-blocking execution<br>
                            â€¢ Retries on failure (3 attempts)<br>
                            <br>
                            <code style="background: #f8f9fa; padding: 4px 8px; border-radius: 4px;">
                                send_notification.delay(user_id, type, data)
                            </code>
                        </div>
                    </div>

                    <!-- Notification Processing -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-top: 30px; border-left: 5px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-bottom: 20px;">ğŸ“§ Email Notification Flow</h4>
                        
                        <div class="flow-step" style="border-color: #3b82f6; background: #dbeafe; max-width: 100%;">
                            <h4 style="color: #3b82f6;">1. Generate Email Content</h4>
                            <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left;">
                                â€¢ Select HTML template (task_assigned.html)<br>
                                â€¢ Inject dynamic data (user name, task title)<br>
                                â€¢ Apply branding (logo, colors)<br>
                                â€¢ Add action button (link to dashboard)
                            </div>
                        </div>

                        <div class="flow-step" style="border-color: #3b82f6; background: #dbeafe; max-width: 100%;">
                            <h4 style="color: #3b82f6;">2. Send via SMTP</h4>
                            <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-size: 0.9em; text-align: left;">
                                <strong>Configuration:</strong><br>
                                â€¢ SMTP Server: smtp.gmail.com<br>
                                â€¢ Port: 587 (TLS)<br>
                                â€¢ From: notifications@synergy.com<br>
                                â€¢ Subject: "New Task Assigned: {task_title}"<br>
                                <br>
                                <strong>Error Handling:</strong><br>
                                â€¢ Retry on SMTP failure<br>
                                â€¢ Log failed attempts<br>
                                â€¢ Fallback to SMS (if critical)
                            </div>
                        </div>
                    </div>

                    <!-- In-App Notifications -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-top: 30px; border-left: 5px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 20px;">ğŸ”” In-App Notification System</h4>
                        
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <strong style="color: #10b981;">Database Model:</strong>
                            <pre style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-size: 0.85em; font-family: monospace;">class Notification(models.Model):
    user = ForeignKey(User)
    type = CharField(choices=[
        ('task_assigned', 'Task Assigned'),
        ('deadline_approaching', 'Deadline'),
        ('status_changed', 'Status Update'),
        ('comment_added', 'New Comment')
    ])
    message = TextField()
    link = URLField()
    is_read = BooleanField(default=False)
    created_at = DateTimeField(auto_now_add=True)</pre>
                        </div>

                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <strong style="color: #10b981;">Frontend Display:</strong>
                            <div style="margin-top: 10px; font-size: 0.9em;">
                                â€¢ Bell icon in navbar with badge count<br>
                                â€¢ Dropdown shows recent 10 notifications<br>
                                â€¢ Unread highlighted in blue<br>
                                â€¢ Click to mark as read and navigate<br>
                                â€¢ "View All" link to full notification page<br>
                                <br>
                                <strong>API Endpoint:</strong><br>
                                <code style="background: white; padding: 4px 8px; border-radius: 4px;">
                                    GET /api/notifications/?is_read=false
                                </code>
                            </div>
                        </div>
                    </div>

                    <!-- Real-Time Notifications (WebSocket) -->
                    <div style="background: white; padding: 25px; border-radius: 10px; margin-top: 30px; border-left: 5px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 20px;">âš¡ Real-Time Notifications (Future Enhancement)</h4>
                        
                        <div style="background: #fffbeb; padding: 15px; border-radius: 8px;">
                            <strong style="color: #f59e0b;">Planned Implementation:</strong>
                            <div style="margin-top: 10px; font-size: 0.9em; color: #92400e;">
                                â€¢ Django Channels for WebSocket support<br>
                                â€¢ Redis as channel layer<br>
                                â€¢ Frontend connects on login<br>
                                â€¢ Instant notification delivery<br>
                                â€¢ Toast/popup notifications<br>
                                <br>
                                <strong>Use Cases:</strong><br>
                                â€¢ Team member comes online<br>
                                â€¢ Instant message delivery<br>
                                â€¢ Real-time task updates<br>
                                â€¢ Live collaboration features
                            </div>
                        </div>
                    </div>

                    <!-- Notification Events -->
                    <div style="margin-top: 30px; background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">ğŸ“‹ Notification Event Types:</h4>
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #f8f9fa;">
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Event</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Email</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">In-App</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Recipient</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Task Assigned</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ…</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ…</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Assigned Member</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Task Completed</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ…</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ…</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Project Manager</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Deadline (24h)</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ…</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ…</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Assigned Member</td>
                                </tr>
                                <tr style="background: #f8f9fa;">
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Comment Added</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âŒ</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ…</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Task Members</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">Project Created</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ…</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">âœ…</td>
                                    <td style="padding: 10px; border: 1px solid #e5e7eb;">All Members</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- User Preferences -->
                    <div style="margin-top: 20px; background: #e0e7ff; padding: 20px; border-radius: 10px; border: 2px solid #6366f1;">
                        <h4 style="color: #6366f1; margin-bottom: 10px;">âš™ï¸ User Notification Preferences:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>Email Notifications:</strong> On/Off toggle (default: On)</li>
                            <li><strong>Email Digest:</strong> Daily summary option</li>
                            <li><strong>In-App Notifications:</strong> Always enabled</li>
                            <li><strong>Desktop Notifications:</strong> Browser permission required</li>
                            <li><strong>Quiet Hours:</strong> Mute 10 PM - 8 AM (configurable)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- File Upload Pipeline Section -->
        <div class="diagram-section" id="fileUpload">
            <div class="section-header">
                <div class="section-title">ğŸ“ File Upload Pipeline</div>
                <div class="section-description">Media Handling - Upload, validation, storage, and retrieval</div>
            </div>

            <div class="diagram-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">File Upload & Storage - SynergyOS</h3>
                
                <div style="background: #f8f9fa; padding: 30px; border-radius: 12px;">
                    <!-- Upload Flow -->
                    <div class="flow-step" style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; max-width: 600px;">
                        <h4 style="color: white;">1ï¸âƒ£ User Selects File</h4>
                        <div style="background: rgba(255, 255, 255, 0.2); padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.9em;">
                            â€¢ File input field or drag-and-drop<br>
                            â€¢ Preview selected file<br>
                            â€¢ Show file size and type<br>
                            â€¢ Multiple file selection (if allowed)
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #f59e0b; background: #fffbeb; max-width: 600px;">
                        <h4 style="color: #f59e0b;">2ï¸âƒ£ Client-Side Validation</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            <strong>Checks:</strong><br>
                            â€¢ File size â‰¤ 10MB<br>
                            â€¢ Allowed types: PDF, PNG, JPG, DOCX, XLSX<br>
                            â€¢ Filename length < 100 chars<br>
                            â€¢ Not empty file (size > 0)<br>
                            <br>
                            if (file.size > 10MB) {<br>
                            &nbsp;&nbsp;showError('File too large');<br>
                            &nbsp;&nbsp;return false;<br>
                            }
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #10b981; background: #d1fae5; max-width: 600px;">
                        <h4 style="color: #10b981;">3ï¸âƒ£ Upload to Backend</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            <strong>FormData API:</strong><br>
                            const formData = new FormData();<br>
                            formData.append('file', file);<br>
                            formData.append('task_id', taskId);<br>
                            formData.append('description', desc);<br>
                            <br>
                            axios.post('/api/attachments/', formData, {<br>
                            &nbsp;&nbsp;headers: {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;'Content-Type': 'multipart/form-data',<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;'Authorization': `Bearer ${token}`<br>
                            &nbsp;&nbsp;},<br>
                            &nbsp;&nbsp;onUploadProgress: (e) => {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;setProgress(e.loaded / e.total * 100);<br>
                            &nbsp;&nbsp;}<br>
                            });
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #ef4444; background: #fee2e2; max-width: 600px;">
                        <h4 style="color: #ef4444;">4ï¸âƒ£ Server-Side Validation</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-size: 0.9em; text-align: left; color: #333;">
                            <strong>Django Validation:</strong><br>
                            â€¢ Verify file size again (10MB limit)<br>
                            â€¢ Check MIME type (magic number validation)<br>
                            â€¢ Scan for malware (ClamAV integration)<br>
                            â€¢ Sanitize filename (remove special chars)<br>
                            â€¢ Verify user has permission (task access)<br>
                            <br>
                            <strong>Security Checks:</strong><br>
                            â€¢ Reject executable files (.exe, .sh)<br>
                            â€¢ Block double extensions (.pdf.exe)<br>
                            â€¢ Validate image dimensions (if image)
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #8b5cf6; background: #ede9fe; max-width: 600px;">
                        <h4 style="color: #8b5cf6;">5ï¸âƒ£ Generate Unique Filename</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            import uuid<br>
                            from datetime import datetime<br>
                            <br>
                            def upload_to(instance, filename):<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;ext = filename.split('.')[-1]<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;unique_id = uuid.uuid4().hex<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;date_path = datetime.now().strftime('%Y/%m/%d')<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;return f'uploads/{date_path}/{unique_id}.{ext}'<br>
                            <br>
                            <strong>Result:</strong> uploads/2025/11/15/a3f2c8d1e4b9.pdf
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #14b8a6; background: #ccfbf1; max-width: 600px;">
                        <h4 style="color: #14b8a6;">6ï¸âƒ£ Save to Disk</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-size: 0.9em; text-align: left; color: #333;">
                            <strong>Storage Location:</strong><br>
                            â€¢ Development: <code>/media/uploads/</code> (local)<br>
                            â€¢ Production: Docker volume <code>media_files:/app/media</code><br>
                            â€¢ Future: AWS S3 or cloud storage<br>
                            <br>
                            <strong>Folder Structure:</strong><br>
                            /media/<br>
                            &nbsp;&nbsp;/uploads/<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;/2025/<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/11/<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/15/<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a3f2c8d1e4b9.pdf<br>
                            &nbsp;&nbsp;/avatars/<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;user_42.jpg
                        </div>
                    </div>

                    <div class="flow-step" style="border-color: #6366f1; background: #e0e7ff; max-width: 600px;">
                        <h4 style="color: #6366f1;">7ï¸âƒ£ Create Database Record</h4>
                        <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em; text-align: left; color: #333;">
                            TaskAttachment.objects.create(<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;task=task,<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;file=file_path,<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;filename=original_filename,<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;file_size=file.size,<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;uploaded_by=request.user,<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;uploaded_at=datetime.now()<br>
                            )<br>
                            <br>
                            <strong>Stored Data:</strong><br>
                            â€¢ Original filename<br>
                            â€¢ Storage path<br>
                            â€¢ File size<br>
                            â€¢ Uploader info<br>
                            â€¢ Upload timestamp
                        </div>
                    </div>

                    <div class="flow-step" style="background: linear-gradient(135deg, #10b981, #059669); color: white; max-width: 600px;">
                        <h4 style="color: white;">8ï¸âƒ£ Return Success Response</h4>
                        <div style="background: rgba(255, 255, 255, 0.2); padding: 10px; border-radius: 6px; margin-top: 10px; font-family: monospace; font-size: 0.85em;">
                            {<br>
                            &nbsp;&nbsp;"id": 123,<br>
                            &nbsp;&nbsp;"filename": "proof_of_completion.pdf",<br>
                            &nbsp;&nbsp;"file_url": "/media/uploads/.../a3f2c8d1e4b9.pdf",<br>
                            &nbsp;&nbsp;"file_size": 524288,<br>
                            &nbsp;&nbsp;"uploaded_at": "2025-11-15T10:30:00Z"<br>
                            }
                        </div>
                    </div>

                    <!-- File Retrieval -->
                    <div style="margin-top: 40px; background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-bottom: 20px;">ğŸ“¥ File Download/Retrieval</h4>
                        
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <strong style="color: #3b82f6;">Secure Download:</strong>
                            <div style="margin-top: 10px; font-size: 0.9em;">
                                <strong>1. User requests file:</strong><br>
                                <code style="background: white; padding: 4px 8px; border-radius: 4px;">
                                    GET /api/attachments/123/download/
                                </code><br><br>
                                
                                <strong>2. Permission check:</strong><br>
                                â€¢ Verify user is task member or manager<br>
                                â€¢ Check if file exists<br>
                                <br>
                                
                                <strong>3. Serve file:</strong><br>
                                â€¢ Nginx serves static files (production)<br>
                                â€¢ X-Accel-Redirect for protected files<br>
                                â€¢ Set Content-Disposition header<br>
                                â€¢ Log download activity
                            </div>
                        </div>
                    </div>

                    <!-- File Type Handling -->
                    <div style="margin-top: 20px; background: white; padding: 25px; border-radius: 10px; border-left: 5px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 15px;">ğŸ“‹ Supported File Types:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #ef4444;">ğŸ“„ Documents</strong><br>
                                <small>PDF, DOCX, TXT, MD</small>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #3b82f6;">ğŸ–¼ï¸ Images</strong><br>
                                <small>PNG, JPG, JPEG, GIF, SVG</small>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #10b981;">ğŸ“Š Spreadsheets</strong><br>
                                <small>XLSX, CSV</small>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong style="color: #8b5cf6;">ğŸ“¦ Archives</strong><br>
                                <small>ZIP, RAR (scan before extract)</small>
                            </div>
                        </div>
                    </div>

                    <!-- Storage Stats -->
                    <div style="margin-top: 20px; background: #d1fae5; padding: 20px; border-radius: 10px; border: 2px solid #10b981;">
                        <h4 style="color: #10b981; margin-bottom: 15px;">ğŸ’¾ Storage Management:</h4>
                        <ul style="line-height: 2;">
                            <li><strong>Max File Size:</strong> 10MB per file</li>
                            <li><strong>Storage Limit:</strong> 1GB per project</li>
                            <li><strong>Retention:</strong> Files kept for project lifetime + 90 days after archive</li>
                            <li><strong>Cleanup:</strong> Automated deletion of orphaned files (weekly cron job)</li>
                            <li><strong>Backup:</strong> Daily backup to external storage</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>

    <div class="scroll-top" id="scrollTop" onclick="scrollToTop()">
        â†‘
    </div>

    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const container = document.getElementById('container');
            const toggle = document.getElementById('sidebarToggle');
            
            sidebar.classList.toggle('hidden');
            container.classList.toggle('expanded');
            toggle.classList.toggle('closed');
            
            if (sidebar.classList.contains('hidden')) {
                toggle.textContent = 'â˜°';
            } else {
                toggle.textContent = 'âœ•';
            }
        }

        function scrollToDiagram(id) {
            document.getElementById(id).scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
            // Auto-hide sidebar on mobile after selection
            if (window.innerWidth < 768) {
                const sidebar = document.getElementById('sidebar');
                const container = document.getElementById('container');
                const toggle = document.getElementById('sidebarToggle');
                
                sidebar.classList.add('hidden');
                container.classList.add('expanded');
                toggle.classList.add('closed');
                toggle.textContent = 'â˜°';
            }
        }

        function scrollToTop() {
            window.scrollTo({ 
                top: 0, 
                behavior: 'smooth' 
            });
        }

        // Show/hide scroll to top button
        window.addEventListener('scroll', function() {
            const scrollTop = document.getElementById('scrollTop');
            if (window.pageYOffset > 300) {
                scrollTop.classList.add('visible');
            } else {
                scrollTop.classList.remove('visible');
            }
        });

        // Initialize sidebar state based on screen size
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.getElementById('sidebar');
            const container = document.getElementById('container');
            const toggle = document.getElementById('sidebarToggle');
            
            // Hide sidebar on mobile by default
            if (window.innerWidth < 768) {
                sidebar.classList.add('hidden');
                container.classList.add('expanded');
                toggle.classList.add('closed');
                toggle.textContent = 'â˜°';
            } else {
                toggle.textContent = 'âœ•';
            }
            
            // Check if there's a hash in URL
            if (window.location.hash) {
                setTimeout(function() {
                    const id = window.location.hash.substring(1);
                    scrollToDiagram(id);
                }, 100);
            }
        });
    </script>
</body>
</html>
